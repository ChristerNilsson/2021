// Generated by CoffeeScript 2.5.1
var answers, ass, bToggle, button, clear, clickList, config, decode, encode, errorlabel, execute, getParameters, input, label, lista, memory, myStringify, range, toggle, toggleMode, transpile, updateList,
  indexOf = [].indexOf;

label = null;

input = null;

lista = null;

errorlabel = null;

bToggle = null;

toggleMode = 1;

answers = {};

range = _.range;

memory = {
  'a': 12,
  'b': 23,
  'c': 3,
  'd': 4,
  'e': 5,
  'add': 'a+b',
  'mul': 'a*b',
  'sq': 'a*a',
  'f': '(x) -> x*x',
  'g': 'f 9',
  'h': 'i*i for i in range a'
};

config = {};

ass = function(a, b) {
  return _.isEqual(a, b);
};

getParameters = function(h = window.location.href) {
  var arr, f, key, pairs, s, value;
  arr = h.split('?');
  if (arr.length !== 2) {
    return {};
  }
  s = arr[1];
  if (s === '') {
    return {};
  }
  pairs = (function() {
    var i, len, ref, results;
    ref = s.split('&');
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      f = ref[i];
      results.push(f.split('='));
    }
    return results;
  })();
  pairs = (function() {
    var i, len, results;
    results = [];
    for (i = 0, len = pairs.length; i < len; i++) {
      [key, value] = pairs[i];
      results.push([key, decodeURIComponent(value)]);
    }
    return results;
  })();
  return _.fromPairs(pairs);
};

encode = function() {
  var s;
  s = encodeURI(JSON.stringify(memory));
  s = s.replace(/=/g, '%3D');
  s = s.replace(/\?/g, '%3F');
  return window.open('?content=' + s + '&config=' + encodeURI(JSON.stringify(config)));
};

decode = function() {
  var parameters;
  memory = {};
  if (indexOf.call(window.location.href, '?') >= 0) {
    parameters = getParameters();
    if (parameters.content) {
      memory = parameters.content;
      memory = JSON.parse(memory);
    }
    if (parameters.config) {
      return config = JSON.parse(parameters.config);
    }
  }
};

button = function(prompt, click) {
  var res;
  res = document.createElement('button');
  res.innerHTML = prompt;
  res.style = 'width:80px; font-family:courier;';
  res.onclick = click;
  document.body.appendChild(res);
  return res;
};

// toObject = () ->
// 	JSON.parse JSON.stringify this, (key, value) =>
// 		if typeof value == 'bigint' then value.toString() else value # return everything else unchanged

// https://github.com/GoogleChromeLabs/jsbi/issues/30
myStringify = function(value) {
  return JSON.stringify(value, (key, value) => {
    if (typeof value === 'bigint') {
      return value.toString();
    } else {
      return value; // return everything else unchanged
    }
  });
};

updateList = function() {
  var key, option, results, row;
  label.innerHTML = "";
  lista.size = _.size(memory);
  lista.length = 0;
  results = [];
  for (key in memory) {
    row = memory[key];
    if (key === 'ans') {
      if (typeof answers.ans === 'function') {
        results.push(label.innerHTML = row);
      } else {
        if (answers.ans === '') {
          results.push(label.innerHTML = answers.ans);
        } else {
          results.push(label.innerHTML = myStringify(answers.ans));
        }
      }
    } else {
      option = document.createElement("option");
      if (typeof answers[key] === 'function') {
        option.innerText = `${key} = ${row}`;
      } else if (toggleMode === 0) {
        option.innerText = `${key} = ${row}`;
      } else {
        option.innerText = `${key} = ${myStringify(answers[key])}`;
      }
      option.value = key;
      results.push(lista.appendChild(option));
    }
  }
  return results;
};

execute = function() {
  var arr, err, item, key, s;
  label.innerHTML = '';
  answers.ans = "";
  errorlabel.innerHTML = "";
  try {
    arr = input.value.split(' = ');
    arr = (function() {
      var i, len, results;
      results = [];
      for (i = 0, len = arr.length; i < len; i++) {
        item = arr[i];
        results.push(item.trim());
      }
      return results;
    })();
    // delete?
    if (input.value.slice(-1) === '=') {
      delete memory[arr[0]];
      delete answers[arr[0]];
      eval(`${arr[0]}=undefined`);
      updateList();
      return;
    }
    if (arr.length === 2 && arr[0] in memory) {
      memory[arr[0]] = arr[1];
    }
    s = (function() {
      var results;
      results = [];
      for (key in memory) {
        if (key !== 'ans') {
          results.push(`answers.${key} = (${key} = (${memory[key]}))`);
        }
      }
      return results;
    })();
    if (arr.length === 1 && arr[0] !== '') {
      s.push(`answers.ans = (${arr[0]})`);
    }
    if (arr.length === 2) {
      s.push(`answers.${arr[0]} = (${arr[0]} = (${arr[1]}))`);
    }
    eval(transpile(s.join(';')));
    if (arr.length === 1) {
      memory.ans = arr[0];
    }
    if (arr.length === 2) {
      memory[arr[0]] = arr[1];
    }
    updateList();
    return input.select();
  } catch (error) {
    err = error;
    return errorlabel.innerHTML = err.message;
  }
};

transpile = function(code) {
  var result;
  result = CoffeeScript.compile(code, {
    bare: true
  });
  return result.replace(/\n/g, '');
};

clickList = function(item) {
  var key;
  key = item.srcElement.value;
  if (key) {
    return input.value = `${key} = ${memory[key]}`;
  }
};

toggle = function() {
  toggleMode = 1 - toggleMode;
  bToggle.innerHTML = ['formulas', 'values'][toggleMode];
  return updateList();
};

clear = function() {
  input.value = "";
  return label.innerHTML = "";
};

document.body.onload = function() {
  var bShare;
  decode();
  clear = button('clear', clear);
  bToggle = button('values', toggle);
  bShare = button('share', function() {
    return encode();
  });
  label = document.createElement("p");
  label.style = 'font-family:courier; height:10px; width:99%;';
  document.body.appendChild(label);
  input = document.createElement("input");
  input.style = 'width:97%; font-family:courier; margin:5px;';
  document.body.appendChild(input);
  input.onkeypress = function(e) {
    if (e.which === 13) {
      return execute();
    }
  };
  lista = document.createElement("select");
  lista.onclick = clickList;
  lista.size = 20;
  lista.style = 'width:99%;  overflow-y:auto; font-family:courier; margin:5px;';
  document.body.appendChild(lista);
  errorlabel = document.createElement("p");
  errorlabel.style = 'font-family:courier; color:red; width:99%';
  document.body.appendChild(errorlabel);
  return execute();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLE9BQUEsRUFBQSxhQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQTtFQUFBOztBQUFBLEtBQUEsR0FBUTs7QUFDUixLQUFBLEdBQVE7O0FBQ1IsS0FBQSxHQUFROztBQUNSLFVBQUEsR0FBYTs7QUFDYixPQUFBLEdBQVU7O0FBQ1YsVUFBQSxHQUFhOztBQUNiLE9BQUEsR0FBVSxDQUFBOztBQUVWLEtBQUEsR0FBUSxDQUFDLENBQUM7O0FBRVYsTUFBQSxHQUFTO0VBQUMsR0FBQSxFQUFJLEVBQUw7RUFBUSxHQUFBLEVBQUksRUFBWjtFQUFlLEdBQUEsRUFBSSxDQUFuQjtFQUFxQixHQUFBLEVBQUksQ0FBekI7RUFBMkIsR0FBQSxFQUFJLENBQS9CO0VBQWlDLEtBQUEsRUFBTSxLQUF2QztFQUE2QyxLQUFBLEVBQU0sS0FBbkQ7RUFBMEQsSUFBQSxFQUFNLEtBQWhFO0VBQXVFLEdBQUEsRUFBSyxZQUE1RTtFQUEwRixHQUFBLEVBQUksS0FBOUY7RUFBb0csR0FBQSxFQUFJO0FBQXhHOztBQUVULE1BQUEsR0FBUyxDQUFBOztBQUVULEdBQUEsR0FBTSxRQUFBLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBQTtTQUFVLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBVixFQUFhLENBQWI7QUFBVjs7QUFFTixhQUFBLEdBQWdCLFFBQUEsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMs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QUFRLENBQUMsSUFBSSxDQUFDLFdBQWQsQ0FBMEIsS0FBMUI7RUFFQSxVQUFBLEdBQWEsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsR0FBdkI7RUFDYixVQUFVLENBQUMsS0FBWCxHQUFtQjtFQUNuQixRQUFRLENBQUMsSUFBSSxDQUFDLFdBQWQsQ0FBMEIsVUFBMUI7U0FFQSxPQUFBLENBQUE7QUE1QnNCIiwic291cmNlc0NvbnRlbnQiOlsibGFiZWwgPSBudWxsIFxyXG5pbnB1dCA9IG51bGxcclxubGlzdGEgPSBudWxsXHJcbmVycm9ybGFiZWwgPSBudWxsXHJcbmJUb2dnbGUgPSBudWxsXHJcbnRvZ2dsZU1vZGUgPSAxXHJcbmFuc3dlcnMgPSB7fVxyXG5cclxucmFuZ2UgPSBfLnJhbmdlXHJcblxyXG5tZW1vcnkgPSB7J2EnOjEyLCdiJzoyMywnYyc6MywnZCc6NCwnZSc6NSwnYWRkJzonYStiJywnbXVsJzonYSpiJywgJ3NxJzogJ2EqYScsICdmJzogJyh4KSAtPiB4KngnLCAnZyc6J2YgOScsJ2gnOidpKmkgZm9yIGkgaW4gcmFuZ2UgYSd9XHJcblxyXG5jb25maWcgPSB7fVxyXG5cclxuYXNzID0gKGEsIGIpIC0+IF8uaXNFcXVhbCBhLCBiXHJcblxyXG5nZXRQYXJhbWV0ZXJzID0gKGggPSB3aW5kb3cubG9jYXRpb24uaHJlZikgLT5cclxuXHRhcnIgPSBoLnNwbGl0ICc/J1xyXG5cdGlmIGFyci5sZW5ndGggIT0gMiB0aGVuIHJldHVybiB7fVxyXG5cdHMgPSBhcnJbMV1cclxuXHRpZiBzPT0nJyB0aGVuIHJldHVybiB7fVxyXG5cdHBhaXJzID0gKGYuc3BsaXQgJz0nIGZvciBmIGluIHMuc3BsaXQgJyYnKVxyXG5cdHBhaXJzID0gKFtrZXksIGRlY29kZVVSSUNvbXBvbmVudCB2YWx1ZV0gZm9yIFtrZXksdmFsdWVdIGluIHBhaXJzKVxyXG5cdF8uZnJvbVBhaXJzIHBhaXJzXHJcblxyXG5lbmNvZGUgPSAtPlxyXG5cdHMgPSBlbmNvZGVVUkkgSlNPTi5zdHJpbmdpZnkgbWVtb3J5XHJcblx0cyA9IHMucmVwbGFjZSAvPS9nLCclM0QnXHJcblx0cyA9IHMucmVwbGFjZSAvXFw/L2csJyUzRidcclxuXHR3aW5kb3cub3BlbiAnP2NvbnRlbnQ9JyArIHMgKyAnJmNvbmZpZz0nICsgZW5jb2RlVVJJIEpTT04uc3RyaW5naWZ5IGNvbmZpZ1xyXG5cclxuZGVjb2RlID0gLT5cclxuXHRtZW1vcnkgPSB7fVxyXG5cdGlmICc/JyBpbiB3aW5kb3cubG9jYXRpb24uaHJlZlxyXG5cdFx0cGFyYW1ldGVycyA9IGdldFBhcmFtZXRlcnMoKVxyXG5cdFx0aWYgcGFyYW1ldGVycy5jb250ZW50XHJcblx0XHRcdG1lbW9yeSA9IHBhcmFtZXRlcnMuY29udGVudFxyXG5cdFx0XHRtZW1vcnkgPSBKU09OLnBhcnNlIG1lbW9yeVxyXG5cdFx0aWYgcGFyYW1ldGVycy5jb25maWdcclxuXHRcdFx0Y29uZmlnID0gSlNPTi5wYXJzZSBwYXJhbWV0ZXJzLmNvbmZpZ1xyXG5cclxuYnV0dG9uID0gKHByb21wdCxjbGljaykgLT5cclxuXHRyZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICdidXR0b24nXHJcblx0cmVzLmlubmVySFRNTCA9IHByb21wdFxyXG5cdHJlcy5zdHlsZSA9ICd3aWR0aDo4MHB4OyBmb250LWZhbWlseTpjb3VyaWVyOydcclxuXHRyZXMub25jbGljayA9IGNsaWNrXHJcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCByZXNcclxuXHRyZXNcclxuXHJcbiMgdG9PYmplY3QgPSAoKSAtPlxyXG4jIFx0SlNPTi5wYXJzZSBKU09OLnN0cmluZ2lmeSB0aGlzLCAoa2V5LCB2YWx1ZSkgPT5cclxuIyBcdFx0aWYgdHlwZW9mIHZhbHVlID09ICdiaWdpbnQnIHRoZW4gdmFsdWUudG9TdHJpbmcoKSBlbHNlIHZhbHVlICMgcmV0dXJuIGV2ZXJ5dGhpbmcgZWxzZSB1bmNoYW5nZWRcclxuXHJcbiMgaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZUxhYnMvanNiaS9pc3N1ZXMvMzBcclxubXlTdHJpbmdpZnkgPSAodmFsdWUpIC0+XHJcblx0SlNPTi5zdHJpbmdpZnkgdmFsdWUsIChrZXksIHZhbHVlKSA9PlxyXG5cdFx0aWYgdHlwZW9mIHZhbHVlID09ICdiaWdpbnQnIHRoZW4gdmFsdWUudG9TdHJpbmcoKSBlbHNlIHZhbHVlICMgcmV0dXJuIGV2ZXJ5dGhpbmcgZWxzZSB1bmNoYW5nZWRcclxuXHJcbnVwZGF0ZUxpc3QgPSAoKSAtPlxyXG5cdGxhYmVsLmlubmVySFRNTCA9IFwiXCJcclxuXHRsaXN0YS5zaXplID0gXy5zaXplIG1lbW9yeVxyXG5cdGxpc3RhLmxlbmd0aCA9IDBcclxuXHRmb3Iga2V5IG9mIG1lbW9yeVxyXG5cdFx0cm93ID0gbWVtb3J5W2tleV1cclxuXHRcdGlmIGtleSA9PSAnYW5zJ1xyXG5cdFx0XHRpZiB0eXBlb2YgYW5zd2Vycy5hbnMgPT0gJ2Z1bmN0aW9uJ1xyXG5cdFx0XHRcdGxhYmVsLmlubmVySFRNTCA9IHJvd1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aWYgYW5zd2Vycy5hbnMgPT0gJydcclxuXHRcdFx0XHRcdGxhYmVsLmlubmVySFRNTCA9IGFuc3dlcnMuYW5zXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0bGFiZWwuaW5uZXJIVE1MID0gbXlTdHJpbmdpZnkgYW5zd2Vycy5hbnNcclxuXHRcdGVsc2VcclxuXHRcdFx0b3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBcIm9wdGlvblwiXHJcblx0XHRcdGlmIHR5cGVvZiBhbnN3ZXJzW2tleV0gPT0gJ2Z1bmN0aW9uJ1xyXG5cdFx0XHRcdG9wdGlvbi5pbm5lclRleHQgPSBcIiN7a2V5fSA9ICN7cm93fVwiXHJcblx0XHRcdGVsc2UgaWYgdG9nZ2xlTW9kZSA9PSAwXHJcblx0XHRcdFx0b3B0aW9uLmlubmVyVGV4dCA9IFwiI3trZXl9ID0gI3tyb3d9XCJcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG9wdGlvbi5pbm5lclRleHQgPSBcIiN7a2V5fSA9ICN7bXlTdHJpbmdpZnkgYW5zd2Vyc1trZXldfVwiXHJcblx0XHRcdG9wdGlvbi52YWx1ZSA9IGtleVxyXG5cdFx0XHRsaXN0YS5hcHBlbmRDaGlsZCBvcHRpb25cclxuXHJcbmV4ZWN1dGUgPSAtPlxyXG5cdGxhYmVsLmlubmVySFRNTCA9ICcnXHJcblx0YW5zd2Vycy5hbnMgPSBcIlwiXHJcblx0ZXJyb3JsYWJlbC5pbm5lckhUTUwgPSBcIlwiXHJcblxyXG5cdHRyeVxyXG5cclxuXHRcdGFyciA9IGlucHV0LnZhbHVlLnNwbGl0ICcgPSAnXHJcblx0XHRhcnIgPSAoaXRlbS50cmltKCkgZm9yIGl0ZW0gaW4gYXJyKVxyXG5cclxuXHRcdCMgZGVsZXRlP1xyXG5cdFx0aWYgaW5wdXQudmFsdWUuc2xpY2UoLTEpID09ICc9J1xyXG5cdFx0XHRkZWxldGUgbWVtb3J5W2FyclswXV1cclxuXHRcdFx0ZGVsZXRlIGFuc3dlcnNbYXJyWzBdXVxyXG5cdFx0XHRldmFsIFwiI3thcnJbMF19PXVuZGVmaW5lZFwiXHJcblx0XHRcdHVwZGF0ZUxpc3QoKVxyXG5cdFx0XHRyZXR1cm4gXHJcblxyXG5cdFx0aWYgYXJyLmxlbmd0aCA9PSAyIGFuZCBhcnJbMF0gb2YgbWVtb3J5XHJcblx0XHRcdG1lbW9yeVthcnJbMF1dID0gYXJyWzFdXHJcblxyXG5cdFx0cyA9IChcImFuc3dlcnMuI3trZXl9ID0gKCN7a2V5fSA9ICgje21lbW9yeVtrZXldfSkpXCIgZm9yIGtleSBvZiBtZW1vcnkgd2hlbiBrZXkhPSdhbnMnKVxyXG5cdFx0aWYgYXJyLmxlbmd0aCA9PSAxIGFuZCBhcnJbMF0gIT0gJycgdGhlbiBzLnB1c2ggXCJhbnN3ZXJzLmFucyA9ICgje2FyclswXX0pXCJcclxuXHRcdGlmIGFyci5sZW5ndGggPT0gMiB0aGVuIHMucHVzaCBcImFuc3dlcnMuI3thcnJbMF19ID0gKCN7YXJyWzBdfSA9ICgje2FyclsxXX0pKVwiXHJcblx0XHRldmFsIHRyYW5zcGlsZSBzLmpvaW4gJzsnXHJcblxyXG5cdFx0aWYgYXJyLmxlbmd0aCA9PSAxIHRoZW4gbWVtb3J5LmFucyA9IGFyclswXVxyXG5cdFx0aWYgYXJyLmxlbmd0aCA9PSAyIHRoZW4gbWVtb3J5W2FyclswXV0gPSBhcnJbMV1cclxuXHJcblx0XHR1cGRhdGVMaXN0KClcclxuXHRcdGlucHV0LnNlbGVjdCgpXHJcblxyXG5cdGNhdGNoIGVyclxyXG5cdFx0ZXJyb3JsYWJlbC5pbm5lckhUTUwgPSBlcnIubWVzc2FnZVxyXG5cclxudHJhbnNwaWxlID0gKGNvZGUpIC0+XHJcblx0cmVzdWx0ID0gQ29mZmVlU2NyaXB0LmNvbXBpbGUgY29kZSwge2JhcmU6IHRydWV9XHJcblx0cmVzdWx0LnJlcGxhY2UgL1xcbi9nLCcnXHJcblxyXG5jbGlja0xpc3QgPSAoaXRlbSkgLT5cclxuXHRrZXkgPSBpdGVtLnNyY0VsZW1lbnQudmFsdWVcclxuXHRpZiBrZXkgdGhlbiBpbnB1dC52YWx1ZSA9IFwiI3trZXl9ID0gI3ttZW1vcnlba2V5XX1cIlxyXG5cclxudG9nZ2xlID0gKCkgLT5cclxuXHR0b2dnbGVNb2RlID0gMSAtIHRvZ2dsZU1vZGVcclxuXHRiVG9nZ2xlLmlubmVySFRNTCA9IFsnZm9ybXVsYXMnLCd2YWx1ZXMnXVt0b2dnbGVNb2RlXVxyXG5cdHVwZGF0ZUxpc3QoKVxyXG5cclxuY2xlYXIgPSAtPlxyXG5cdGlucHV0LnZhbHVlID0gXCJcIlxyXG5cdGxhYmVsLmlubmVySFRNTCA9IFwiXCJcclxuXHJcbmRvY3VtZW50LmJvZHkub25sb2FkID0gLT5cclxuXHJcblx0ZGVjb2RlKClcclxuXHJcblx0Y2xlYXIgPSBidXR0b24gJ2NsZWFyJywgY2xlYXJcclxuXHRiVG9nZ2xlID0gYnV0dG9uICd2YWx1ZXMnLCB0b2dnbGVcclxuXHRiU2hhcmUgPSBidXR0b24gJ3NoYXJlJywgLT4gZW5jb2RlKClcclxuXHJcblx0bGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50IFwicFwiXHJcblx0bGFiZWwuc3R5bGUgPSAnZm9udC1mYW1pbHk6Y291cmllcjsgaGVpZ2h0OjEwcHg7IHdpZHRoOjk5JTsnXHJcblxyXG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQgbGFiZWxcclxuXHJcblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50IFwiaW5wdXRcIlxyXG5cdGlucHV0LnN0eWxlID0gJ3dpZHRoOjk3JTsgZm9udC1mYW1pbHk6Y291cmllcjsgbWFyZ2luOjVweDsnXHJcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCBpbnB1dFxyXG5cdGlucHV0Lm9ua2V5cHJlc3MgPSAoZSkgLT4gaWYgZS53aGljaCA9PSAxMyB0aGVuIGV4ZWN1dGUoKVxyXG5cclxuXHRsaXN0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJzZWxlY3RcIlxyXG5cdGxpc3RhLm9uY2xpY2sgPSBjbGlja0xpc3RcclxuXHRsaXN0YS5zaXplID0gMjBcclxuXHRsaXN0YS5zdHlsZT0gJ3dpZHRoOjk5JTsgIG92ZXJmbG93LXk6YXV0bzsgZm9udC1mYW1pbHk6Y291cmllcjsgbWFyZ2luOjVweDsnXHJcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCBsaXN0YVxyXG5cclxuXHRlcnJvcmxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBcInBcIlxyXG5cdGVycm9ybGFiZWwuc3R5bGUgPSAnZm9udC1mYW1pbHk6Y291cmllcjsgY29sb3I6cmVkOyB3aWR0aDo5OSUnXHJcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCBlcnJvcmxhYmVsXHJcblxyXG5cdGV4ZWN1dGUoKVxyXG4iXX0=
//# sourceURL=c:\github\2021\021-NewCalc\coffee\sketch.coffee