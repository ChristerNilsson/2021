// Generated by CoffeeScript 2.4.1
var ETA, curr, diffToWord, elapsedTime, ended, endingTime, findNearest, hints, initSpeaker, lastETA, lastETAtimestamp, lastSpoken, lastWord, makeHints, onTrack, say, sayETA, sayHint, speaker, started, startingTime, userDistance, voices,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

curr = 0;

lastWord = '';

lastSpoken = '';

speaker = null;

hints = {};

started = false;

ended = false;

startingTime = null;

endingTime = null;

elapsedTime = 0;

userDistance = 0;

onTrack = true;

voices = null;

lastETA = 0;

lastETAtimestamp = 0; // seconds since startingTime

ETA = 0;

window.speechSynthesis.onvoiceschanged = function() {
  return voices = window.speechSynthesis.getVoices();
};

initSpeaker = function() {
  var index;
  index = 5;
  speaker = new SpeechSynthesisUtterance();
  speaker.voiceURI = "native";
  speaker.volume = 1;
  speaker.rate = 1.0;
  speaker.pitch = 0;
  speaker.text = '';
  speaker.lang = 'en-GB';
  if (voices && index <= voices.length - 1) {
    speaker.voice = voices[index];
  }
  return say("Welcome! 29A");
};

say = function(m) {
  if (speaker === null) {
    return;
  }
  speechSynthesis.cancel();
  speaker.text = m;
  speechSynthesis.speak(speaker);
  return messages.push('SAY ' + m);
};

diffToWord = function(diff) {
  var WORDS;
  WORDS = ['turn around', 'sharp left', 'medium left', 'left', '', 'right', 'medium right', 'sharp right', 'turn around'];
  return WORDS[4 + Math.round(diff / 45)];
};

ass('turn around', diffToWord(-180));

ass('sharp left', diffToWord(-157));

ass('sharp left', diffToWord(-113));

ass('left', diffToWord(-67));

ass('left', diffToWord(-23));

ass('', diffToWord(-22));

ass('', diffToWord(22));

ass('right', diffToWord(23));

ass('right', diffToWord(67));

ass('medium right', diffToWord(68));

ass('medium right', diffToWord(112));

ass('sharp right', diffToWord(113));

ass('sharp right', diffToWord(157));

ass('turn around', diffToWord(158));

ass('turn around', diffToWord(180));

sayETA = function(gpsPoints) {
  var currTime, n, nextETA, progress, resolution, usedTime;
  if (gpsPoints.length < 2) {
    return;
  }
  if (startingTime === null) {
    return;
  }
  if (playPath.distance === 0) {
    return;
  }
  n = gpsPoints.length;
  userDistance += distance(gpsPoints[n - 2], gpsPoints[n - 1]);
  if (userDistance === 0) {
    return;
  }
  progress = userDistance / playPath.distance;
  currTime = new Date();
  usedTime = currTime - startingTime;
  ETA = usedTime * playPath.distance / userDistance; // ms
  ETA /= 1000; // secs
  resolution = progress < 0.5 ? 60 : 10;
  if (resolution === 60) {
    nextETA = `${Math.floor(ETA / 60)}`;
  }
  if (resolution === 10) {
    nextETA = `${Math.floor(ETA / 60)} ${myRound(ETA, -1) % 60}`;
  }
  if (lastETA !== nextETA && usedTime - lastETAtimestamp > 10000) { // 10 seconds
    lastETAtimestamp = usedTime;
    lastETA = nextETA;
    return say(nextETA);
  }
};

sayHint = function(gpsPoints) {
  var N, dist, err, gps, last, points, word;
  N = 5;
  if (!playPath || gpsPoints.length === 0) {
    return;
  }
  points = playPath.points;
  last = gpsPoints.length - 1;
  gps = gpsPoints[last];
  [curr, dist] = findNearest(gps, points);
  if (started && !ended) {
    messages.push(`gps ${curr} ${dist}`);
  }
  word = '';
  if (!started && 25 > distance(gps, points[0])) {
    started = true;
    startingTime = new Date();
    messages.push(`trackStarted ${startingTime}`);
    say('track started!');
    userDistance = 0;
    onTrack = true;
    return;
  }
  if (started && !ended && 10 > distance(gps, points[points.length - 1])) {
    ended = true;
    endingTime = new Date();
    elapsedTime = endingTime - startingTime;
    messages.push(`elapsedTime ${elapsedTime}`);
    say('track ended!');
    return;
  }
  if (!started) {
    return;
  }
  if (ended) {
    return;
  }
  try {
    sayETA(gpsPoints);
  } catch (error) {
    err = error;
    messages.push(`${err}`);
    messages.push(`${err.stack}`);
  }
  if (!onTrack && dist < 10) { // meters
    word = 'track found!';
    onTrack = true;
  } else if (dist > 25) { // meters
    word = 'track lost!';
    onTrack = false;
  } else {
    word = curr + N in hints ? hints[curr + N] : '';
  }
  if (lastSpoken !== word) {
    messages.push(`HINT ${curr} ${points[curr]} ${word} ${dist}`);
    say(word);
    return lastSpoken = word;
  }
};

findNearest = function(p1, polygon) {
  var best, d, dx, dy, i, index, j, len, p, ref, x, y;
  index = 0;
  [x, y] = p1;
  p = polygon[0];
  dx = p[0] - x;
  dy = p[1] - y;
  best = dx * dx + dy * dy;
  ref = range(polygon.length);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    p = polygon[i];
    dx = p[0] - x;
    dy = p[1] - y;
    d = dx * dx + dy * dy;
    if (d < best) {
      best = d;
      index = i;
    }
  }
  return [index, Math.round(Math.sqrt(best))];
};

makeHints = function() {
  var b0, b1, diff, i, j, len, points, ref, word;
  console.log('makeHints');
  hints = {};
  points = playPath.points;
  console.log(points);
  ref = range(2, points.length - 3);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    b0 = bearing(points[i - 2], points[i]);
    b1 = bearing(points[i], points[i + 2]);
    diff = b1 - b0 + 180;
    diff = modulo(diff, 360) - 180;
    word = diffToWord(diff);
    if (word !== '') {
      hints[i] = word;
    }
  }
  return console.log(hints);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGludHMuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcaGludHMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLE9BQUEsRUFBQSxnQkFBQSxFQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLFlBQUEsRUFBQSxZQUFBLEVBQUEsTUFBQTtFQUFBOztBQUFBLElBQUEsR0FBTzs7QUFDUCxRQUFBLEdBQVc7O0FBQ1gsVUFBQSxHQUFhOztBQUNiLE9BQUEsR0FBVTs7QUFDVixLQUFBLEdBQVEsQ0FBQTs7QUFFUixPQUFBLEdBQVU7O0FBQ1YsS0FBQSxHQUFROztBQUNSLFlBQUEsR0FBZTs7QUFDZixVQUFBLEdBQWE7O0FBQ2IsV0FBQSxHQUFjOztBQUNkLFlBQUEsR0FBZTs7QUFDZixPQUFBLEdBQVU7O0FBRVYsTUFBQSxHQUFTOztBQUNULE9BQUEsR0FBVTs7QUFDVixnQkFBQSxHQUFtQixFQWhCbkI7O0FBaUJBLEdBQUEsR0FBTTs7QUFFTixNQUFNLENBQUMsZUFBZSxDQUFDLGVBQXZCLEdBQXlDLFFBQUEsQ0FBQSxDQUFBO1NBQUcsTUFBQSxHQUFTLE1BQU0sQ0FBQyxlQUFlLENBQUMsU0FBdkIsQ0FBQTtBQUFaOztBQUV6QyxXQUFBLEdBQWMsUUFBQSxDQUFBLENBQUE7QUFDYixNQUFBO0VBQUEsS0FBQSxHQUFRO0VBQ1IsT0FBQSxHQUFVLElBQUksd0JBQUosQ0FBQTtFQUNWLE9BQU8sQ0FBQyxRQUFSLEdBQW1CO0VBQ25CLE9BQU8sQ0FBQyxNQUFSLEdBQWlCO0VBQ2pCLE9BQU8sQ0FBQyxJQUFSLEdBQWU7RUFDZixPQUFPLENBQUMsS0FBUixHQUFnQjtFQUNoQixPQUFPLENBQUMsSUFBUixHQUFlO0VBQ2YsT0FBTyxDQUFDLElBQVIsR0FBZTtFQUNmLElBQUcsTUFBQSxJQUFXLEtBQUEsSUFBUyxNQUFNLENBQUMsTUFBUCxHQUFjLENBQXJDO0lBQTRDLE9BQU8sQ0FBQyxLQUFSLEdBQWdCLE1BQU8sQ0FBQSxLQUFBLEVBQW5FOztTQUNBLEdBQUEsQ0FBSSxjQUFKO0FBVmE7O0FBWWQsR0FBQSxHQUFNLFFBQUEsQ0FBQyxDQUFELENBQUE7RUFDTCxJQUFHLE9BQUEsS0FBVyxJQUFkO0FBQXdCLFdBQXhCOztFQUNBLGVBQWUsQ0FBQyxNQUFoQixDQUFBO0VBQ0EsT0FBTyxDQUFDLElBQVIsR0FBZTtFQUNmLGVBQWUsQ0FBQyxLQUFoQixDQUFzQixPQUF0QjtTQUNBLFFBQVEsQ0FBQyxJQUFULENBQWMsTUFBQSxHQUFTLENBQXZCO0FBTEs7O0FBT04sVUFBQSxHQUFhLFFBQUEsQ0FBQyxJQUFELENBQUE7QUFDWixNQUFBO0VBQUEsS0FBQSxHQUFRLENBQUMsYUFBRCxFQUFlLFlBQWYsRUFBNEIsYUFBNUIsRUFBMEMsTUFBMUMsRUFBaUQsRUFBakQsRUFBb0QsT0FBcEQsRUFBNEQsY0FBNUQsRUFBMkUsYUFBM0UsRUFBeUYsYUFBekY7U0FDUixLQUFNLENBQUEsQ0FBQSxHQUFJLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQSxHQUFLLEVBQWhCLENBQUo7QUFGTTs7QUFHYixHQUFBLENBQUksYUFBSixFQUFrQixVQUFBLENBQVcsQ0FBQyxHQUFaLENBQWxCOztBQUNBLEdBQUEsQ0FBSSxZQUFKLEVBQWlCLFVBQUEsQ0FBVyxDQUFDLEdBQVosQ0FBakI7O0FBQ0EsR0FBQSxDQUFJLFlBQUosRUFBaUIsVUFBQSxDQUFXLENBQUMsR0FBWixDQUFqQjs7QUFDQSxHQUFBLENBQUksTUFBSixFQUFXLFVBQUEsQ0FBVyxDQUFDLEVBQVosQ0FBWDs7QUFDQSxHQUFBLENBQUksTUFBSixFQUFXLFVBQUEsQ0FBVyxDQUFDLEVBQVosQ0FBWDs7QUFDQSxHQUFBLENBQUksRUFBSixFQUFPLFVBQUEsQ0FBVyxDQUFDLEVBQVosQ0FBUDs7QUFDQSxHQUFBLENBQUksRUFBSixFQUFPLFVBQUEsQ0FBVyxFQUFYLENBQVA7O0FBQ0EsR0FBQSxDQUFJLE9BQUosRUFBWSxVQUFBLENBQVcsRUFBWCxDQUFaOztBQUNBLEdBQUEsQ0FBSSxPQUFKLEVBQVksVUFBQSxDQUFXLEVBQVgsQ0FBWjs7QUFDQSxHQUFBLENBQUksY0FBSixFQUFtQixVQUFBLENBQVcsRUFBWCxDQUFuQjs7QUFDQSxHQUFBLENBQUksY0FBSixFQUFtQixVQUFBLENBQVcsR0FBWCxDQUFuQjs7QUFDQSxHQUFBLENBQUksYUFBSixFQUFrQixVQUFBLENBQVcsR0FBWCxDQUFsQjs7QUFDQSxHQUFBLENBQUksYUFBSixFQUFrQixVQUFBLENBQVcsR0FBWCxDQUFsQjs7QUFDQSxHQUFBLENBQUksYUFBSixFQUFrQixVQUFBLENBQVcsR0FBWCxDQUFsQjs7QUFDQSxHQUFBLENBQUksYUFBSixFQUFrQixVQUFBLENBQVcsR0FBWCxDQUFsQjs7QUFFQSxNQUFBLEdBQVMsUUFBQSxDQUFDLFNBQUQsQ0FBQTtBQUNSLE1BQUEsUUFBQSxFQUFBLENBQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsRUFBQTtFQUFBLElBQUcsU0FBUyxDQUFDLE1BQVYsR0FBbUIsQ0FBdEI7QUFBNkIsV0FBN0I7O0VBQ0EsSUFBRyxZQUFBLEtBQWdCLElBQW5CO0FBQTZCLFdBQTdCOztFQUNBLElBQUcsUUFBUSxDQUFDLFFBQVQsS0FBcUIsQ0FBeEI7QUFBK0IsV0FBL0I7O0VBRUEsQ0FBQSxHQUFJLFNBQVMsQ0FBQztFQUNkLFlBQUEsSUFBZ0IsUUFBQSxDQUFTLFNBQVUsQ0FBQSxDQUFBLEdBQUUsQ0FBRixDQUFuQixFQUF3QixTQUFVLENBQUEsQ0FBQSxHQUFFLENBQUYsQ0FBbEM7RUFDaEIsSUFBRyxZQUFBLEtBQWdCLENBQW5CO0FBQTBCLFdBQTFCOztFQUNBLFFBQUEsR0FBVyxZQUFBLEdBQWUsUUFBUSxDQUFDO0VBQ25DLFFBQUEsR0FBVyxJQUFJLElBQUosQ0FBQTtFQUNYLFFBQUEsR0FBVyxRQUFBLEdBQVc7RUFDdEIsR0FBQSxHQUFNLFFBQUEsR0FBVyxRQUFRLENBQUMsUUFBcEIsR0FBK0IsYUFWckM7RUFXQSxHQUFBLElBQU8sS0FYUDtFQVlBLFVBQUEsR0FBZ0IsUUFBQSxHQUFXLEdBQWQsR0FBdUIsRUFBdkIsR0FBK0I7RUFDNUMsSUFBRyxVQUFBLEtBQWMsRUFBakI7SUFBeUIsT0FBQSxHQUFVLENBQUEsQ0FBQSxZQUFHLE1BQU8sR0FBVixDQUFBLEVBQW5DOztFQUNBLElBQUcsVUFBQSxLQUFjLEVBQWpCO0lBQXlCLE9BQUEsR0FBVSxDQUFBLENBQUEsWUFBRyxNQUFPLEdBQVYsRUFBQSxDQUFBLENBQWdCLE9BQUEsQ0FBUSxHQUFSLEVBQVksQ0FBQyxDQUFiLENBQUEsR0FBa0IsRUFBbEMsQ0FBQSxFQUFuQzs7RUFDQSxJQUFHLE9BQUEsS0FBVyxPQUFYLElBQXVCLFFBQUEsR0FBVyxnQkFBWCxHQUE4QixLQUF4RDtJQUNDLGdCQUFBLEdBQW1CO0lBQ25CLE9BQUEsR0FBVTtXQUNWLEdBQUEsQ0FBSSxPQUFKLEVBSEQ7O0FBaEJROztBQXFCVCxPQUFBLEdBQVUsUUFBQSxDQUFDLFNBQUQsQ0FBQTtBQUNULE1BQUEsQ0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEVBQUE7RUFBQSxDQUFBLEdBQUk7RUFDSixJQUFHLENBQUksUUFBSixJQUFnQixTQUFTLENBQUMsTUFBVixLQUFvQixDQUF2QztBQUE4QyxXQUE5Qzs7RUFDQSxNQUFBLEdBQVMsUUFBUSxDQUFDO0VBQ2xCLElBQUEsR0FBTyxTQUFTLENBQUMsTUFBVixHQUFpQjtFQUN4QixHQUFBLEdBQU0sU0FBVSxDQUFBLElBQUE7RUFDaEIsQ0FBQyxJQUFELEVBQU0sSUFBTixDQUFBLEdBQWMsV0FBQSxDQUFZLEdBQVosRUFBZ0IsTUFBaEI7RUFDZCxJQUFHLE9BQUEsSUFBWSxDQUFJLEtBQW5CO0lBQThCLFFBQVEsQ0FBQyxJQUFULENBQWMsQ0FBQSxJQUFBLENBQUEsQ0FBTyxJQUFQLEVBQUEsQ0FBQSxDQUFlLElBQWYsQ0FBQSxDQUFkLEVBQTlCOztFQUNBLElBQUEsR0FBTztFQUVQLElBQUcsQ0FBSSxPQUFKLElBQWdCLEVBQUEsR0FBSyxRQUFBLENBQVMsR0FBVCxFQUFhLE1BQU8sQ0FBQSxDQUFBLENBQXBCLENBQXhCO0lBQ0MsT0FBQSxHQUFVO0lBQ1YsWUFBQSxHQUFlLElBQUksSUFBSixDQUFBO0lBQ2YsUUFBUSxDQUFDLElBQVQsQ0FBYyxDQUFBLGFBQUEsQ0FBQSxDQUFnQixZQUFoQixDQUFBLENBQWQ7SUFDQSxHQUFBLENBQUksZ0JBQUo7SUFDQSxZQUFBLEdBQWU7SUFDZixPQUFBLEdBQVU7QUFDVixXQVBEOztFQVNBLElBQUcsT0FBQSxJQUFZLENBQUksS0FBaEIsSUFBMEIsRUFBQSxHQUFLLFFBQUEsQ0FBUyxHQUFULEVBQWEsTUFBTyxDQUFBLE1BQU0sQ0FBQyxNQUFQLEdBQWMsQ0FBZCxDQUFwQixDQUFsQztJQUNDLEtBQUEsR0FBUTtJQUNSLFVBQUEsR0FBYSxJQUFJLElBQUosQ0FBQTtJQUNiLFdBQUEsR0FBYyxVQUFBLEdBQWE7SUFDM0IsUUFBUSxDQUFDLElBQVQsQ0FBYyxDQUFBLFlBQUEsQ0FBQSxDQUFlLFdBQWYsQ0FBQSxDQUFkO0lBQ0EsR0FBQSxDQUFJLGNBQUo7QUFDQSxXQU5EOztFQVFBLElBQUcsQ0FBSSxPQUFQO0FBQW9CLFdBQXBCOztFQUNBLElBQUcsS0FBSDtBQUFjLFdBQWQ7O0FBRUE7SUFDQyxNQUFBLENBQU8sU0FBUCxFQUREO0dBQUEsYUFBQTtJQUVNO0lBQ0wsUUFBUSxDQUFDLElBQVQsQ0FBYyxDQUFBLENBQUEsQ0FBRyxHQUFILENBQUEsQ0FBZDtJQUNBLFFBQVEsQ0FBQyxJQUFULENBQWMsQ0FBQSxDQUFBLENBQUcsR0FBRyxDQUFDLEtBQVAsQ0FBQSxDQUFkLEVBSkQ7O0VBTUEsSUFBRyxDQUFJLE9BQUosSUFBZ0IsSUFBQSxHQUFPLEVBQTFCO0lBQ0MsSUFBQSxHQUFPO0lBQ1AsT0FBQSxHQUFVLEtBRlg7R0FBQSxNQUdLLElBQUcsSUFBQSxHQUFPLEVBQVY7SUFDSixJQUFBLEdBQU87SUFDUCxPQUFBLEdBQVUsTUFGTjtHQUFBLE1BQUE7SUFJSixJQUFBLEdBQVUsSUFBQSxHQUFLLENBQUwsSUFBVSxLQUFiLEdBQXdCLEtBQU0sQ0FBQSxJQUFBLEdBQUssQ0FBTCxDQUE5QixHQUEyQyxHQUo5Qzs7RUFLTCxJQUFHLFVBQUEsS0FBYyxJQUFqQjtJQUNDLFFBQVEsQ0FBQyxJQUFULENBQWMsQ0FBQSxLQUFBLENBQUEsQ0FBUSxJQUFSLEVBQUEsQ0FBQSxDQUFnQixNQUFPLENBQUEsSUFBQSxDQUF2QixFQUFBLENBQUEsQ0FBZ0MsSUFBaEMsRUFBQSxDQUFBLENBQXdDLElBQXhDLENBQUEsQ0FBZDtJQUNBLEdBQUEsQ0FBSSxJQUFKO1dBQ0EsVUFBQSxHQUFhLEtBSGQ7O0FBNUNTOztBQWlEVixXQUFBLEdBQWMsUUFBQSxDQUFDLEVBQUQsRUFBSSxPQUFKLENBQUE7QUFDYixNQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUE7RUFBQSxLQUFBLEdBQVE7RUFDUixDQUFDLENBQUQsRUFBRyxDQUFILENBQUEsR0FBUTtFQUNSLENBQUEsR0FBSSxPQUFRLENBQUEsQ0FBQTtFQUNaLEVBQUEsR0FBSyxDQUFFLENBQUEsQ0FBQSxDQUFGLEdBQU87RUFDWixFQUFBLEdBQUssQ0FBRSxDQUFBLENBQUEsQ0FBRixHQUFPO0VBQ1osSUFBQSxHQUFPLEVBQUEsR0FBRyxFQUFILEdBQVEsRUFBQSxHQUFHO0FBQ2xCO0VBQUEsS0FBQSxxQ0FBQTs7SUFDQyxDQUFBLEdBQUksT0FBUSxDQUFBLENBQUE7SUFDWixFQUFBLEdBQUssQ0FBRSxDQUFBLENBQUEsQ0FBRixHQUFPO0lBQ1osRUFBQSxHQUFLLENBQUUsQ0FBQSxDQUFBLENBQUYsR0FBTztJQUNaLENBQUEsR0FBSSxFQUFBLEdBQUcsRUFBSCxHQUFRLEVBQUEsR0FBRztJQUNmLElBQUcsQ0FBQSxHQUFJLElBQVA7TUFDQyxJQUFBLEdBQU87TUFDUCxLQUFBLEdBQVEsRUFGVDs7RUFMRDtTQVFBLENBQUMsS0FBRCxFQUFRLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFWLENBQVgsQ0FBUjtBQWZhOztBQWlCZCxTQUFBLEdBQVksUUFBQSxDQUFBLENBQUE7QUFDWCxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUE7RUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLFdBQVo7RUFDQSxLQUFBLEdBQVEsQ0FBQTtFQUNSLE1BQUEsR0FBUyxRQUFRLENBQUM7RUFDbEIsT0FBTyxDQUFDLEdBQVIsQ0FBWSxNQUFaO0FBQ0E7RUFBQSxLQUFBLHFDQUFBOztJQUNDLEVBQUEsR0FBSyxPQUFBLENBQVEsTUFBTyxDQUFBLENBQUEsR0FBRSxDQUFGLENBQWYsRUFBb0IsTUFBTyxDQUFBLENBQUEsQ0FBM0I7SUFDTCxFQUFBLEdBQUssT0FBQSxDQUFRLE1BQU8sQ0FBQSxDQUFBLENBQWYsRUFBa0IsTUFBTyxDQUFBLENBQUEsR0FBRSxDQUFGLENBQXpCO0lBQ0wsSUFBQSxHQUFPLEVBQUEsR0FBSyxFQUFMLEdBQVU7SUFDakIsSUFBQSxVQUFPLE1BQVEsSUFBUixHQUFjO0lBRXJCLElBQUEsR0FBTyxVQUFBLENBQVcsSUFBWDtJQUNQLElBQUcsSUFBQSxLQUFRLEVBQVg7TUFBbUIsS0FBTSxDQUFBLENBQUEsQ0FBTixHQUFXLEtBQTlCOztFQVBEO1NBUUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFaO0FBYlciLCJzb3VyY2VzQ29udGVudCI6WyJjdXJyID0gMFxyXG5sYXN0V29yZCA9ICcnXHJcbmxhc3RTcG9rZW4gPSAnJ1xyXG5zcGVha2VyID0gbnVsbFxyXG5oaW50cyA9IHt9XHJcblxyXG5zdGFydGVkID0gZmFsc2VcclxuZW5kZWQgPSBmYWxzZVxyXG5zdGFydGluZ1RpbWUgPSBudWxsXHJcbmVuZGluZ1RpbWUgPSBudWxsXHJcbmVsYXBzZWRUaW1lID0gMFxyXG51c2VyRGlzdGFuY2UgPSAwXHJcbm9uVHJhY2sgPSB0cnVlXHJcblxyXG52b2ljZXMgPSBudWxsXHJcbmxhc3RFVEEgPSAwXHJcbmxhc3RFVEF0aW1lc3RhbXAgPSAwICMgc2Vjb25kcyBzaW5jZSBzdGFydGluZ1RpbWVcclxuRVRBID0gMFxyXG5cclxud2luZG93LnNwZWVjaFN5bnRoZXNpcy5vbnZvaWNlc2NoYW5nZWQgPSAtPiB2b2ljZXMgPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpXHJcblxyXG5pbml0U3BlYWtlciA9IC0+XHJcblx0aW5kZXggPSA1XHJcblx0c3BlYWtlciA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoKVxyXG5cdHNwZWFrZXIudm9pY2VVUkkgPSBcIm5hdGl2ZVwiXHJcblx0c3BlYWtlci52b2x1bWUgPSAxXHJcblx0c3BlYWtlci5yYXRlID0gMS4wXHJcblx0c3BlYWtlci5waXRjaCA9IDBcclxuXHRzcGVha2VyLnRleHQgPSAnJ1xyXG5cdHNwZWFrZXIubGFuZyA9ICdlbi1HQidcclxuXHRpZiB2b2ljZXMgYW5kIGluZGV4IDw9IHZvaWNlcy5sZW5ndGgtMSB0aGVuIHNwZWFrZXIudm9pY2UgPSB2b2ljZXNbaW5kZXhdXHJcblx0c2F5IFwiV2VsY29tZSEgMjlBXCJcclxuXHJcbnNheSA9IChtKSAtPlxyXG5cdGlmIHNwZWFrZXIgPT0gbnVsbCB0aGVuIHJldHVyblxyXG5cdHNwZWVjaFN5bnRoZXNpcy5jYW5jZWwoKVxyXG5cdHNwZWFrZXIudGV4dCA9IG1cclxuXHRzcGVlY2hTeW50aGVzaXMuc3BlYWsgc3BlYWtlclxyXG5cdG1lc3NhZ2VzLnB1c2ggJ1NBWSAnICsgbVxyXG5cclxuZGlmZlRvV29yZCA9IChkaWZmKSAtPlxyXG5cdFdPUkRTID0gWyd0dXJuIGFyb3VuZCcsJ3NoYXJwIGxlZnQnLCdtZWRpdW0gbGVmdCcsJ2xlZnQnLCcnLCdyaWdodCcsJ21lZGl1bSByaWdodCcsJ3NoYXJwIHJpZ2h0JywndHVybiBhcm91bmQnXVxyXG5cdFdPUkRTWzQgKyBNYXRoLnJvdW5kIGRpZmYvNDVdXHJcbmFzcyAndHVybiBhcm91bmQnLGRpZmZUb1dvcmQgLTE4MFxyXG5hc3MgJ3NoYXJwIGxlZnQnLGRpZmZUb1dvcmQgLTE1N1xyXG5hc3MgJ3NoYXJwIGxlZnQnLGRpZmZUb1dvcmQgLTExM1xyXG5hc3MgJ2xlZnQnLGRpZmZUb1dvcmQgLTY3XHJcbmFzcyAnbGVmdCcsZGlmZlRvV29yZCAtMjNcclxuYXNzICcnLGRpZmZUb1dvcmQgLTIyXHJcbmFzcyAnJyxkaWZmVG9Xb3JkIDIyXHJcbmFzcyAncmlnaHQnLGRpZmZUb1dvcmQgMjNcclxuYXNzICdyaWdodCcsZGlmZlRvV29yZCA2N1xyXG5hc3MgJ21lZGl1bSByaWdodCcsZGlmZlRvV29yZCA2OFxyXG5hc3MgJ21lZGl1bSByaWdodCcsZGlmZlRvV29yZCAxMTJcclxuYXNzICdzaGFycCByaWdodCcsZGlmZlRvV29yZCAxMTNcclxuYXNzICdzaGFycCByaWdodCcsZGlmZlRvV29yZCAxNTdcclxuYXNzICd0dXJuIGFyb3VuZCcsZGlmZlRvV29yZCAxNThcclxuYXNzICd0dXJuIGFyb3VuZCcsZGlmZlRvV29yZCAxODBcclxuXHJcbnNheUVUQSA9IChncHNQb2ludHMpIC0+XHJcblx0aWYgZ3BzUG9pbnRzLmxlbmd0aCA8IDIgdGhlbiByZXR1cm5cclxuXHRpZiBzdGFydGluZ1RpbWUgPT0gbnVsbCB0aGVuIHJldHVyblxyXG5cdGlmIHBsYXlQYXRoLmRpc3RhbmNlID09IDAgdGhlbiByZXR1cm5cclxuXHJcblx0biA9IGdwc1BvaW50cy5sZW5ndGhcclxuXHR1c2VyRGlzdGFuY2UgKz0gZGlzdGFuY2UgZ3BzUG9pbnRzW24tMl0sZ3BzUG9pbnRzW24tMV1cclxuXHRpZiB1c2VyRGlzdGFuY2UgPT0gMCB0aGVuIHJldHVybiBcclxuXHRwcm9ncmVzcyA9IHVzZXJEaXN0YW5jZSAvIHBsYXlQYXRoLmRpc3RhbmNlXHJcblx0Y3VyclRpbWUgPSBuZXcgRGF0ZSgpXHJcblx0dXNlZFRpbWUgPSBjdXJyVGltZSAtIHN0YXJ0aW5nVGltZVxyXG5cdEVUQSA9IHVzZWRUaW1lICogcGxheVBhdGguZGlzdGFuY2UgLyB1c2VyRGlzdGFuY2UgIyBtc1xyXG5cdEVUQSAvPSAxMDAwICMgc2Vjc1xyXG5cdHJlc29sdXRpb24gPSBpZiBwcm9ncmVzcyA8IDAuNSB0aGVuIDYwIGVsc2UgMTBcclxuXHRpZiByZXNvbHV0aW9uID09IDYwIHRoZW4gbmV4dEVUQSA9IFwiI3tFVEEgLy8gNjB9XCJcclxuXHRpZiByZXNvbHV0aW9uID09IDEwIHRoZW4gbmV4dEVUQSA9IFwiI3tFVEEgLy8gNjB9ICN7bXlSb3VuZChFVEEsLTEpICUgNjB9XCJcclxuXHRpZiBsYXN0RVRBICE9IG5leHRFVEEgYW5kIHVzZWRUaW1lIC0gbGFzdEVUQXRpbWVzdGFtcCA+IDEwMDAwICMgMTAgc2Vjb25kc1xyXG5cdFx0bGFzdEVUQXRpbWVzdGFtcCA9IHVzZWRUaW1lXHJcblx0XHRsYXN0RVRBID0gbmV4dEVUQVxyXG5cdFx0c2F5IG5leHRFVEFcclxuXHJcbnNheUhpbnQgPSAoZ3BzUG9pbnRzKSAtPlxyXG5cdE4gPSA1XHJcblx0aWYgbm90IHBsYXlQYXRoIG9yIGdwc1BvaW50cy5sZW5ndGggPT0gMCB0aGVuIHJldHVyblxyXG5cdHBvaW50cyA9IHBsYXlQYXRoLnBvaW50c1xyXG5cdGxhc3QgPSBncHNQb2ludHMubGVuZ3RoLTFcclxuXHRncHMgPSBncHNQb2ludHNbbGFzdF1cclxuXHRbY3VycixkaXN0XSA9IGZpbmROZWFyZXN0IGdwcyxwb2ludHNcclxuXHRpZiBzdGFydGVkIGFuZCBub3QgZW5kZWQgdGhlbiBtZXNzYWdlcy5wdXNoIFwiZ3BzICN7Y3Vycn0gI3tkaXN0fVwiXHJcblx0d29yZCA9ICcnXHJcblxyXG5cdGlmIG5vdCBzdGFydGVkIGFuZCAyNSA+IGRpc3RhbmNlIGdwcyxwb2ludHNbMF1cclxuXHRcdHN0YXJ0ZWQgPSB0cnVlXHJcblx0XHRzdGFydGluZ1RpbWUgPSBuZXcgRGF0ZSgpXHJcblx0XHRtZXNzYWdlcy5wdXNoIFwidHJhY2tTdGFydGVkICN7c3RhcnRpbmdUaW1lfVwiXHJcblx0XHRzYXkgJ3RyYWNrIHN0YXJ0ZWQhJ1xyXG5cdFx0dXNlckRpc3RhbmNlID0gMFxyXG5cdFx0b25UcmFjayA9IHRydWVcclxuXHRcdHJldHVyblxyXG5cclxuXHRpZiBzdGFydGVkIGFuZCBub3QgZW5kZWQgYW5kIDEwID4gZGlzdGFuY2UgZ3BzLHBvaW50c1twb2ludHMubGVuZ3RoLTFdXHJcblx0XHRlbmRlZCA9IHRydWVcclxuXHRcdGVuZGluZ1RpbWUgPSBuZXcgRGF0ZSgpXHJcblx0XHRlbGFwc2VkVGltZSA9IGVuZGluZ1RpbWUgLSBzdGFydGluZ1RpbWVcclxuXHRcdG1lc3NhZ2VzLnB1c2ggXCJlbGFwc2VkVGltZSAje2VsYXBzZWRUaW1lfVwiXHJcblx0XHRzYXkgJ3RyYWNrIGVuZGVkISdcclxuXHRcdHJldHVyblxyXG5cclxuXHRpZiBub3Qgc3RhcnRlZCB0aGVuIHJldHVyblxyXG5cdGlmIGVuZGVkIHRoZW4gcmV0dXJuXHJcblxyXG5cdHRyeVxyXG5cdFx0c2F5RVRBIGdwc1BvaW50c1xyXG5cdGNhdGNoIGVyclxyXG5cdFx0bWVzc2FnZXMucHVzaCBcIiN7ZXJyfVwiXHJcblx0XHRtZXNzYWdlcy5wdXNoIFwiI3tlcnIuc3RhY2t9XCJcclxuXHJcblx0aWYgbm90IG9uVHJhY2sgYW5kIGRpc3QgPCAxMCAjIG1ldGVyc1xyXG5cdFx0d29yZCA9ICd0cmFjayBmb3VuZCEnXHJcblx0XHRvblRyYWNrID0gdHJ1ZVxyXG5cdGVsc2UgaWYgZGlzdCA+IDI1ICMgbWV0ZXJzXHJcblx0XHR3b3JkID0gJ3RyYWNrIGxvc3QhJ1xyXG5cdFx0b25UcmFjayA9IGZhbHNlIFxyXG5cdGVsc2VcclxuXHRcdHdvcmQgPSBpZiBjdXJyK04gb2YgaGludHMgdGhlbiBoaW50c1tjdXJyK05dIGVsc2UgJydcclxuXHRpZiBsYXN0U3Bva2VuICE9IHdvcmRcclxuXHRcdG1lc3NhZ2VzLnB1c2ggXCJISU5UICN7Y3Vycn0gI3twb2ludHNbY3Vycl19ICN7d29yZH0gI3tkaXN0fVwiXHJcblx0XHRzYXkgd29yZFxyXG5cdFx0bGFzdFNwb2tlbiA9IHdvcmRcclxuXHJcbmZpbmROZWFyZXN0ID0gKHAxLHBvbHlnb24pIC0+XHJcblx0aW5kZXggPSAwXHJcblx0W3gseV0gPSBwMVxyXG5cdHAgPSBwb2x5Z29uWzBdXHJcblx0ZHggPSBwWzBdIC0geFxyXG5cdGR5ID0gcFsxXSAtIHlcclxuXHRiZXN0ID0gZHgqZHggKyBkeSpkeVxyXG5cdGZvciBpIGluIHJhbmdlIHBvbHlnb24ubGVuZ3RoXHJcblx0XHRwID0gcG9seWdvbltpXVxyXG5cdFx0ZHggPSBwWzBdIC0geFxyXG5cdFx0ZHkgPSBwWzFdIC0geVxyXG5cdFx0ZCA9IGR4KmR4ICsgZHkqZHlcclxuXHRcdGlmIGQgPCBiZXN0XHJcblx0XHRcdGJlc3QgPSBkXHJcblx0XHRcdGluZGV4ID0gaVxyXG5cdFtpbmRleCwgTWF0aC5yb3VuZCBNYXRoLnNxcnQgYmVzdF1cclxuXHJcbm1ha2VIaW50cyA9IC0+XHJcblx0Y29uc29sZS5sb2cgJ21ha2VIaW50cydcclxuXHRoaW50cyA9IHt9XHJcblx0cG9pbnRzID0gcGxheVBhdGgucG9pbnRzXHJcblx0Y29uc29sZS5sb2cgcG9pbnRzXHJcblx0Zm9yIGkgaW4gcmFuZ2UgMixwb2ludHMubGVuZ3RoIC0gM1xyXG5cdFx0YjAgPSBiZWFyaW5nIHBvaW50c1tpLTJdLHBvaW50c1tpXVxyXG5cdFx0YjEgPSBiZWFyaW5nIHBvaW50c1tpXSxwb2ludHNbaSsyXVxyXG5cdFx0ZGlmZiA9IGIxIC0gYjAgKyAxODBcclxuXHRcdGRpZmYgPSBkaWZmICUlIDM2MCAtIDE4MFxyXG5cclxuXHRcdHdvcmQgPSBkaWZmVG9Xb3JkIGRpZmZcclxuXHRcdGlmIHdvcmQgIT0gJycgdGhlbiBoaW50c1tpXSA9IHdvcmRcclxuXHRjb25zb2xlLmxvZyBoaW50c1xyXG4iXX0=
//# sourceURL=c:\github\2021\013-gpsKarta2\coffee\hints.coffee