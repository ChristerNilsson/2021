// Generated by CoffeeScript 2.4.1
var ETA, curr, diffToWord, elapsedTime, ended, endingTime, findNearest, hints, initSpeaker, lastETA, lastSpoken, lastWord, makeHints, onTrack, say, sayETA, sayHint, speaker, started, startingTime, userDistance, voices,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

curr = 0;

lastWord = '';

lastSpoken = '';

speaker = null;

hints = {};

started = false;

ended = false;

startingTime = null;

endingTime = null;

elapsedTime = 0;

userDistance = 0;

onTrack = true;

voices = null;

lastETA = 0;

ETA = 0;

window.speechSynthesis.onvoiceschanged = function() {
  return voices = window.speechSynthesis.getVoices();
};

initSpeaker = function() {
  var index;
  index = 5;
  speaker = new SpeechSynthesisUtterance();
  speaker.voiceURI = "native";
  speaker.volume = 1;
  speaker.rate = 1.0;
  speaker.pitch = 0;
  speaker.text = '';
  speaker.lang = 'en-GB';
  if (voices && index <= voices.length - 1) {
    speaker.voice = voices[index];
  }
  messages.push("Welcome! Karl");
  return say("Welcome! Karl");
};

say = function(m) {
  if (speaker === null) {
    return;
  }
  speechSynthesis.cancel();
  speaker.text = m;
  speechSynthesis.speak(speaker);
  return console.log('say: ' + m);
};

diffToWord = function(diff) {
  var WORDS;
  WORDS = ['turn around', 'sharp left', 'medium left', 'left', '', 'right', 'medium right', 'sharp right', 'turn around'];
  return WORDS[4 + Math.round(diff / 45)];
};

ass('turn around', diffToWord(-180));

ass('sharp left', diffToWord(-157));

ass('sharp left', diffToWord(-113));

ass('left', diffToWord(-67));

ass('left', diffToWord(-23));

ass('', diffToWord(-22));

ass('', diffToWord(22));

ass('right', diffToWord(23));

ass('right', diffToWord(67));

ass('medium right', diffToWord(68));

ass('medium right', diffToWord(112));

ass('sharp right', diffToWord(113));

ass('sharp right', diffToWord(157));

ass('turn around', diffToWord(158));

ass('turn around', diffToWord(180));

sayETA = function(gpsPoints) {
  var n, nextETA, usedTime;
  if (gpsPoints.length < 2) {
    return;
  }
  if (startingTime === null) {
    return;
  }
  if (playPath.distance === 0) {
    return;
  }
  n = gpsPoints.length;
  userDistance += distance(gpsPoints[n - 2], gpsPoints[n - 1]);
  if (userDistance === 0) {
    return;
  }
  if (userDistance / playPath.distance > 0.1) {
    usedTime = new Date() - startingTime;
    ETA = usedTime * playPath.distance / userDistance; // ms
    ETA /= 1000; // secs
    nextETA = `ETA ${Math.floor(ETA / 60)} colon ${myRound(ETA, -1) % 60}`;
    if (lastETA !== nextETA) {
      messages.push(nextETA);
      say(nextETA);
      return lastETA = nextETA;
    }
  }
};

sayHint = function(gpsPoints) {
  var N, dist, err, gps, last, points, word;
  N = 5;
  if (!playPath || gpsPoints.length === 0) {
    return;
  }
  points = playPath.points;
  last = gpsPoints.length - 1;
  gps = gpsPoints[last];
  [curr, dist] = findNearest(gps, points);
  if (started && !ended) {
    messages.push(`gps ${curr} ${dist}`);
  }
  word = '';
  if (!started && 25 > distance(gps, points[0])) {
    started = true;
    startingTime = new Date();
    messages.push(`trackStarted ${startingTime}`);
    say('track started!');
    userDistance = 0;
    onTrack = true;
    return;
  }
  if (started && !ended && 10 > distance(gps, points[points.length - 1])) {
    ended = true;
    endingTime = new Date();
    elapsedTime = endingTime - startingTime;
    messages.push(`elapsedTime ${elapsedTime}`);
    say('track ended!');
    return;
  }
  if (!started) {
    return;
  }
  if (ended) {
    return;
  }
  try {
    sayETA(gpsPoints);
  } catch (error) {
    err = error;
    messages.push(`${err}`);
    messages.push(`${err.stack}`);
  }
  if (!onTrack && dist < 10) { // meters
    word = 'track found!';
    onTrack = true;
  } else if (dist > 25) { // meters
    word = 'track lost!';
    onTrack = false;
  } else {
    word = curr + N in hints ? hints[curr + N] : '';
  }
  if (lastSpoken !== word) {
    messages.push(`hint ${curr} ${points[curr]} ${word} ${dist}`);
    say(word);
    return lastSpoken = word;
  }
};

findNearest = function(p1, polygon) {
  var best, d, dx, dy, i, index, j, len, p, ref, x, y;
  index = 0;
  [x, y] = p1;
  p = polygon[0];
  dx = p[0] - x;
  dy = p[1] - y;
  best = dx * dx + dy * dy;
  ref = range(polygon.length);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    p = polygon[i];
    dx = p[0] - x;
    dy = p[1] - y;
    d = dx * dx + dy * dy;
    if (d < best) {
      best = d;
      index = i;
    }
  }
  return [index, Math.round(Math.sqrt(best))];
};

makeHints = function() {
  var b0, b1, diff, i, j, len, points, ref, word;
  console.log('makeHints');
  hints = {};
  points = playPath.points;
  console.log(points);
  ref = range(2, points.length - 3);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    b0 = bearing(points[i - 2], points[i]);
    b1 = bearing(points[i], points[i + 2]);
    diff = b1 - b0 + 180;
    diff = modulo(diff, 360) - 180;
    word = diffToWord(diff);
    if (word !== '') {
      hints[i] = word;
    }
  }
  //console.log "#{i} #{points[i]} #{b0} #{b1} #{diff} #{word}"
  //messages.push "#{i} #{word}"
  return console.log(hints);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGludHMuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcaGludHMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLE9BQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxFQUFBLE1BQUE7RUFBQTs7QUFBQSxJQUFBLEdBQU87O0FBQ1AsUUFBQSxHQUFXOztBQUNYLFVBQUEsR0FBYTs7QUFDYixPQUFBLEdBQVU7O0FBQ1YsS0FBQSxHQUFRLENBQUE7O0FBRVIsT0FBQSxHQUFVOztBQUNWLEtBQUEsR0FBUTs7QUFDUixZQUFBLEdBQWU7O0FBQ2YsVUFBQSxHQUFhOztBQUNiLFdBQUEsR0FBYzs7QUFDZCxZQUFBLEdBQWU7O0FBQ2YsT0FBQSxHQUFVOztBQUVWLE1BQUEsR0FBUzs7QUFDVCxPQUFBLEdBQVU7O0FBQ1YsR0FBQSxHQUFNOztBQUVOLE1BQU0sQ0FBQyxlQUFlLENBQUMsZUFBdkIsR0FBeUMsUUFBQSxDQUFBLENBQUE7U0FBRyxNQUFBLEdBQVMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxTQUF2QixDQUFBO0FBQVo7O0FBRXpDLFdBQUEsR0FBYyxRQUFBLENBQUEsQ0FBQTtBQUNiLE1BQUE7RUFBQSxLQUFBLEdBQVE7RUFDUixPQUFBLEdBQVUsSUFBSSx3QkFBSixDQUFBO0VBQ1YsT0FBTyxDQUFDLFFBQVIsR0FBbUI7RUFDbkIsT0FBTyxDQUFDLE1BQVIsR0FBaUI7RUFDakIsT0FBTyxDQUFDLElBQVIsR0FBZTtFQUNmLE9BQU8sQ0FBQyxLQUFSLEdBQWdCO0VBQ2hCLE9BQU8sQ0FBQyxJQUFS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LENBQVI7QUFmYTs7QUFpQmQsU0FBQSxHQUFZLFFBQUEsQ0FBQSxDQUFBO0FBQ1gsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxXQUFaO0VBQ0EsS0FBQSxHQUFRLENBQUE7RUFDUixNQUFBLEdBQVMsUUFBUSxDQUFDO0VBQ2xCLE9BQU8sQ0FBQyxHQUFSLENBQVksTUFBWjtBQUNBO0VBQUEsS0FBQSxxQ0FBQTs7SUFDQyxFQUFBLEdBQUssT0FBQSxDQUFRLE1BQU8sQ0FBQSxDQUFBLEdBQUUsQ0FBRixDQUFmLEVBQW9CLE1BQU8sQ0FBQSxDQUFBLENBQTNCO0lBQ0wsRUFBQSxHQUFLLE9BQUEsQ0FBUSxNQUFPLENBQUEsQ0FBQSxDQUFmLEVBQWtCLE1BQU8sQ0FBQSxDQUFBLEdBQUUsQ0FBRixDQUF6QjtJQUNMLElBQUEsR0FBTyxFQUFBLEdBQUssRUFBTCxHQUFVO0lBQ2pCLElBQUEsVUFBTyxNQUFRLElBQVIsR0FBYztJQUVyQixJQUFBLEdBQU8sVUFBQSxDQUFXLElBQVg7SUFDUCxJQUFHLElBQUEsS0FBUSxFQUFYO01BQW1CLEtBQU0sQ0FBQSxDQUFBLENBQU4sR0FBVyxLQUE5Qjs7RUFQRCxDQUpBOzs7U0FjQSxPQUFPLENBQUMsR0FBUixDQUFZLEtBQVo7QUFmVyIsInNvdXJjZXNDb250ZW50IjpbImN1cnIgPSAwXHJcbmxhc3RXb3JkID0gJydcclxubGFzdFNwb2tlbiA9ICcnXHJcbnNwZWFrZXIgPSBudWxsXHJcbmhpbnRzID0ge31cclxuXHJcbnN0YXJ0ZWQgPSBmYWxzZVxyXG5lbmRlZCA9IGZhbHNlXHJcbnN0YXJ0aW5nVGltZSA9IG51bGxcclxuZW5kaW5nVGltZSA9IG51bGxcclxuZWxhcHNlZFRpbWUgPSAwXHJcbnVzZXJEaXN0YW5jZSA9IDBcclxub25UcmFjayA9IHRydWVcclxuXHJcbnZvaWNlcyA9IG51bGxcclxubGFzdEVUQSA9IDBcclxuRVRBID0gMFxyXG5cclxud2luZG93LnNwZWVjaFN5bnRoZXNpcy5vbnZvaWNlc2NoYW5nZWQgPSAtPiB2b2ljZXMgPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpXHJcblxyXG5pbml0U3BlYWtlciA9IC0+XHJcblx0aW5kZXggPSA1XHJcblx0c3BlYWtlciA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoKVxyXG5cdHNwZWFrZXIudm9pY2VVUkkgPSBcIm5hdGl2ZVwiXHJcblx0c3BlYWtlci52b2x1bWUgPSAxXHJcblx0c3BlYWtlci5yYXRlID0gMS4wXHJcblx0c3BlYWtlci5waXRjaCA9IDBcclxuXHRzcGVha2VyLnRleHQgPSAnJ1xyXG5cdHNwZWFrZXIubGFuZyA9ICdlbi1HQidcclxuXHRpZiB2b2ljZXMgYW5kIGluZGV4IDw9IHZvaWNlcy5sZW5ndGgtMSB0aGVuIHNwZWFrZXIudm9pY2UgPSB2b2ljZXNbaW5kZXhdXHJcblx0bWVzc2FnZXMucHVzaCBcIldlbGNvbWUhIEthcmxcIlxyXG5cdHNheSBcIldlbGNvbWUhIEthcmxcIlxyXG5cclxuc2F5ID0gKG0pIC0+XHJcblx0aWYgc3BlYWtlciA9PSBudWxsIHRoZW4gcmV0dXJuXHJcblx0c3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpXHJcblx0c3BlYWtlci50ZXh0ID0gbVxyXG5cdHNwZWVjaFN5bnRoZXNpcy5zcGVhayBzcGVha2VyXHJcblx0Y29uc29sZS5sb2cgJ3NheTogJyArIG1cclxuXHJcbmRpZmZUb1dvcmQgPSAoZGlmZikgLT5cclxuXHRXT1JEUyA9IFsndHVybiBhcm91bmQnLCdzaGFycCBsZWZ0JywnbWVkaXVtIGxlZnQnLCdsZWZ0JywnJywncmlnaHQnLCdtZWRpdW0gcmlnaHQnLCdzaGFycCByaWdodCcsJ3R1cm4gYXJvdW5kJ11cclxuXHRXT1JEU1s0ICsgTWF0aC5yb3VuZCBkaWZmLzQ1XVxyXG5hc3MgJ3R1cm4gYXJvdW5kJyxkaWZmVG9Xb3JkIC0xODBcclxuYXNzICdzaGFycCBsZWZ0JyxkaWZmVG9Xb3JkIC0xNTdcclxuYXNzICdzaGFycCBsZWZ0JyxkaWZmVG9Xb3JkIC0xMTNcclxuYXNzICdsZWZ0JyxkaWZmVG9Xb3JkIC02N1xyXG5hc3MgJ2xlZnQnLGRpZmZUb1dvcmQgLTIzXHJcbmFzcyAnJyxkaWZmVG9Xb3JkIC0yMlxyXG5hc3MgJycsZGlmZlRvV29yZCAyMlxyXG5hc3MgJ3JpZ2h0JyxkaWZmVG9Xb3JkIDIzXHJcbmFzcyAncmlnaHQnLGRpZmZUb1dvcmQgNjdcclxuYXNzICdtZWRpdW0gcmlnaHQnLGRpZmZUb1dvcmQgNjhcclxuYXNzICdtZWRpdW0gcmlnaHQnLGRpZmZUb1dvcmQgMTEyXHJcbmFzcyAnc2hhcnAgcmlnaHQnLGRpZmZUb1dvcmQgMTEzXHJcbmFzcyAnc2hhcnAgcmlnaHQnLGRpZmZUb1dvcmQgMTU3XHJcbmFzcyAndHVybiBhcm91bmQnLGRpZmZUb1dvcmQgMTU4XHJcbmFzcyAndHVybiBhcm91bmQnLGRpZmZUb1dvcmQgMTgwXHJcblxyXG5zYXlFVEEgPSAoZ3BzUG9pbnRzKSAtPlxyXG5cdGlmIGdwc1BvaW50cy5sZW5ndGggPCAyIHRoZW4gcmV0dXJuXHJcblx0aWYgc3RhcnRpbmdUaW1lID09IG51bGwgdGhlbiByZXR1cm5cclxuXHRpZiBwbGF5UGF0aC5kaXN0YW5jZSA9PSAwIHRoZW4gcmV0dXJuXHJcblxyXG5cdG4gPSBncHNQb2ludHMubGVuZ3RoXHJcblx0dXNlckRpc3RhbmNlICs9IGRpc3RhbmNlIGdwc1BvaW50c1tuLTJdLGdwc1BvaW50c1tuLTFdXHJcblx0aWYgdXNlckRpc3RhbmNlID09IDAgdGhlbiByZXR1cm4gXHJcblx0aWYgdXNlckRpc3RhbmNlIC8gcGxheVBhdGguZGlzdGFuY2UgPiAwLjFcclxuXHRcdHVzZWRUaW1lID0gbmV3IERhdGUoKSAtIHN0YXJ0aW5nVGltZVxyXG5cdFx0RVRBID0gdXNlZFRpbWUgKiBwbGF5UGF0aC5kaXN0YW5jZSAvIHVzZXJEaXN0YW5jZSAjIG1zXHJcblx0XHRFVEEgLz0gMTAwMCAjIHNlY3NcclxuXHRcdG5leHRFVEEgPSBcIkVUQSAje0VUQSAvLyA2MH0gY29sb24gI3tteVJvdW5kKEVUQSwtMSkgJSA2MH1cIlxyXG5cdFx0aWYgbGFzdEVUQSAhPSBuZXh0RVRBXHJcblx0XHRcdG1lc3NhZ2VzLnB1c2ggbmV4dEVUQVxyXG5cdFx0XHRzYXkgbmV4dEVUQVxyXG5cdFx0XHRsYXN0RVRBID0gbmV4dEVUQVxyXG5cclxuc2F5SGludCA9IChncHNQb2ludHMpIC0+XHJcblx0TiA9IDVcclxuXHRpZiBub3QgcGxheVBhdGggb3IgZ3BzUG9pbnRzLmxlbmd0aCA9PSAwIHRoZW4gcmV0dXJuXHJcblx0cG9pbnRzID0gcGxheVBhdGgucG9pbnRzXHJcblx0bGFzdCA9IGdwc1BvaW50cy5sZW5ndGgtMVxyXG5cdGdwcyA9IGdwc1BvaW50c1tsYXN0XVxyXG5cdFtjdXJyLGRpc3RdID0gZmluZE5lYXJlc3QgZ3BzLHBvaW50c1xyXG5cdGlmIHN0YXJ0ZWQgYW5kIG5vdCBlbmRlZCB0aGVuIG1lc3NhZ2VzLnB1c2ggXCJncHMgI3tjdXJyfSAje2Rpc3R9XCJcclxuXHR3b3JkID0gJydcclxuXHJcblx0aWYgbm90IHN0YXJ0ZWQgYW5kIDI1ID4gZGlzdGFuY2UgZ3BzLHBvaW50c1swXVxyXG5cdFx0c3RhcnRlZCA9IHRydWVcclxuXHRcdHN0YXJ0aW5nVGltZSA9IG5ldyBEYXRlKClcclxuXHRcdG1lc3NhZ2VzLnB1c2ggXCJ0cmFja1N0YXJ0ZWQgI3tzdGFydGluZ1RpbWV9XCJcclxuXHRcdHNheSAndHJhY2sgc3RhcnRlZCEnXHJcblx0XHR1c2VyRGlzdGFuY2UgPSAwXHJcblx0XHRvblRyYWNrID0gdHJ1ZVxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdGlmIHN0YXJ0ZWQgYW5kIG5vdCBlbmRlZCBhbmQgMTAgPiBkaXN0YW5jZSBncHMscG9pbnRzW3BvaW50cy5sZW5ndGgtMV1cclxuXHRcdGVuZGVkID0gdHJ1ZVxyXG5cdFx0ZW5kaW5nVGltZSA9IG5ldyBEYXRlKClcclxuXHRcdGVsYXBzZWRUaW1lID0gZW5kaW5nVGltZSAtIHN0YXJ0aW5nVGltZVxyXG5cdFx0bWVzc2FnZXMucHVzaCBcImVsYXBzZWRUaW1lICN7ZWxhcHNlZFRpbWV9XCJcclxuXHRcdHNheSAndHJhY2sgZW5kZWQhJ1xyXG5cdFx0cmV0dXJuXHJcblxyXG5cdGlmIG5vdCBzdGFydGVkIHRoZW4gcmV0dXJuXHJcblx0aWYgZW5kZWQgdGhlbiByZXR1cm5cclxuXHJcblx0dHJ5XHJcblx0XHRzYXlFVEEgZ3BzUG9pbnRzXHJcblx0Y2F0Y2ggZXJyXHJcblx0XHRtZXNzYWdlcy5wdXNoIFwiI3tlcnJ9XCJcclxuXHRcdG1lc3NhZ2VzLnB1c2ggXCIje2Vyci5zdGFja31cIlxyXG5cclxuXHRpZiBub3Qgb25UcmFjayBhbmQgZGlzdCA8IDEwICMgbWV0ZXJzXHJcblx0XHR3b3JkID0gJ3RyYWNrIGZvdW5kISdcclxuXHRcdG9uVHJhY2sgPSB0cnVlXHJcblx0ZWxzZSBpZiBkaXN0ID4gMjUgIyBtZXRlcnNcclxuXHRcdHdvcmQgPSAndHJhY2sgbG9zdCEnXHJcblx0XHRvblRyYWNrID0gZmFsc2UgXHJcblx0ZWxzZVxyXG5cdFx0d29yZCA9IGlmIGN1cnIrTiBvZiBoaW50cyB0aGVuIGhpbnRzW2N1cnIrTl0gZWxzZSAnJ1xyXG5cdGlmIGxhc3RTcG9rZW4gIT0gd29yZFxyXG5cdFx0bWVzc2FnZXMucHVzaCBcImhpbnQgI3tjdXJyfSAje3BvaW50c1tjdXJyXX0gI3t3b3JkfSAje2Rpc3R9XCJcclxuXHRcdHNheSB3b3JkXHJcblx0XHRsYXN0U3Bva2VuID0gd29yZFxyXG5cclxuZmluZE5lYXJlc3QgPSAocDEscG9seWdvbikgLT5cclxuXHRpbmRleCA9IDBcclxuXHRbeCx5XSA9IHAxXHJcblx0cCA9IHBvbHlnb25bMF1cclxuXHRkeCA9IHBbMF0gLSB4XHJcblx0ZHkgPSBwWzFdIC0geVxyXG5cdGJlc3QgPSBkeCpkeCArIGR5KmR5XHJcblx0Zm9yIGkgaW4gcmFuZ2UgcG9seWdvbi5sZW5ndGhcclxuXHRcdHAgPSBwb2x5Z29uW2ldXHJcblx0XHRkeCA9IHBbMF0gLSB4XHJcblx0XHRkeSA9IHBbMV0gLSB5XHJcblx0XHRkID0gZHgqZHggKyBkeSpkeVxyXG5cdFx0aWYgZCA8IGJlc3RcclxuXHRcdFx0YmVzdCA9IGRcclxuXHRcdFx0aW5kZXggPSBpXHJcblx0W2luZGV4LCBNYXRoLnJvdW5kIE1hdGguc3FydCBiZXN0XVxyXG5cclxubWFrZUhpbnRzID0gLT5cclxuXHRjb25zb2xlLmxvZyAnbWFrZUhpbnRzJ1xyXG5cdGhpbnRzID0ge31cclxuXHRwb2ludHMgPSBwbGF5UGF0aC5wb2ludHNcclxuXHRjb25zb2xlLmxvZyBwb2ludHNcclxuXHRmb3IgaSBpbiByYW5nZSAyLHBvaW50cy5sZW5ndGggLSAzXHJcblx0XHRiMCA9IGJlYXJpbmcgcG9pbnRzW2ktMl0scG9pbnRzW2ldXHJcblx0XHRiMSA9IGJlYXJpbmcgcG9pbnRzW2ldLHBvaW50c1tpKzJdXHJcblx0XHRkaWZmID0gYjEgLSBiMCArIDE4MFxyXG5cdFx0ZGlmZiA9IGRpZmYgJSUgMzYwIC0gMTgwXHJcblxyXG5cdFx0d29yZCA9IGRpZmZUb1dvcmQgZGlmZlxyXG5cdFx0aWYgd29yZCAhPSAnJyB0aGVuIGhpbnRzW2ldID0gd29yZFxyXG5cdFx0XHQjY29uc29sZS5sb2cgXCIje2l9ICN7cG9pbnRzW2ldfSAje2IwfSAje2IxfSAje2RpZmZ9ICN7d29yZH1cIlxyXG5cdFx0XHQjbWVzc2FnZXMucHVzaCBcIiN7aX0gI3t3b3JkfVwiXHJcblx0Y29uc29sZS5sb2cgaGludHNcclxuIl19
//# sourceURL=c:\github\2021\013-gpsKarta2\coffee\hints.coffee