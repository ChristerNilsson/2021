// Generated by CoffeeScript 2.4.1
var ETA, curr, diffToWord, elapsedTime, ended, endingTime, findNearest, hints, initSpeaker, lastETA, lastETAtimestamp, lastSpoken, lastWord, makeHints, onTrack, say, sayETA, sayHint, speaker, started, startingTimePlay, userDistancePlay, userDistanceRecord, voices,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

curr = 0;

lastWord = '';

lastSpoken = '';

speaker = null;

hints = {};

started = false;

ended = false;

startingTimePlay = null;

endingTime = null;

elapsedTime = 0;

userDistancePlay = 0;

userDistanceRecord = 0;

onTrack = true;

voices = null;

lastETA = 0;

lastETAtimestamp = 0; // seconds since startingTimePlay

ETA = 0;

window.speechSynthesis.onvoiceschanged = function() {
  return voices = window.speechSynthesis.getVoices();
};

initSpeaker = function() {
  var index;
  index = 5;
  speaker = new SpeechSynthesisUtterance();
  speaker.voiceURI = "native";
  speaker.volume = 1;
  speaker.rate = 1.0;
  speaker.pitch = 0;
  speaker.text = '';
  speaker.lang = 'en-GB';
  if (voices && index <= voices.length - 1) {
    speaker.voice = voices[index];
  }
  return say(`${VERSION}`);
};

say = function(m) {
  if (speaker === null) {
    return;
  }
  speechSynthesis.cancel();
  speaker.text = m;
  speechSynthesis.speak(speaker);
  return messages.push('SAY ' + m);
};

diffToWord = function(diff) {
  var WORDS;
  WORDS = ['turn around', 'sharp left', 'medium left', 'left', '', 'right', 'medium right', 'sharp right', 'turn around'];
  return WORDS[4 + Math.round(diff / 45)];
};

ass('turn around', diffToWord(-180));

ass('sharp left', diffToWord(-157));

ass('sharp left', diffToWord(-113));

ass('left', diffToWord(-67));

ass('left', diffToWord(-23));

ass('', diffToWord(-22));

ass('', diffToWord(22));

ass('right', diffToWord(23));

ass('right', diffToWord(67));

ass('medium right', diffToWord(68));

ass('medium right', diffToWord(112));

ass('sharp right', diffToWord(113));

ass('sharp right', diffToWord(157));

ass('turn around', diffToWord(158));

ass('turn around', diffToWord(180));

sayETA = function(gpsPoints) {
  var currTime, n, nextETA, progress, resolution, usedTime;
  if (gpsPoints.length < 2) {
    return;
  }
  if (startingTimePlay === null) {
    return;
  }
  if (playPath.distance === 0) {
    return;
  }
  n = gpsPoints.length;
  userDistancePlay += distance(gpsPoints[n - 2], gpsPoints[n - 1]);
  if (userDistancePlay === 0) {
    return;
  }
  progress = userDistancePlay / playPath.distance;
  currTime = new Date();
  usedTime = currTime - startingTimePlay;
  ETA = usedTime * playPath.distance / userDistancePlay; // ms
  ETA /= 1000; // secs
  resolution = progress < 0.5 ? 60 : 10;
  if (resolution === 60) {
    nextETA = `${Math.floor(ETA / 60)}`;
  }
  if (resolution === 10) {
    nextETA = `${Math.floor(ETA / 60)} ${myRound(ETA, -1) % 60}`;
  }
  if (lastETA !== nextETA && usedTime - lastETAtimestamp > 10000) { // 10 seconds
    lastETAtimestamp = usedTime;
    lastETA = nextETA;
    return say(nextETA);
  }
};

sayHint = function(gpsPoints) {
  var N, dist, err, gps, last, points, word;
  N = 5;
  if (!playPath || gpsPoints.length === 0) {
    return;
  }
  points = playPath.points;
  last = gpsPoints.length - 1;
  gps = gpsPoints[last];
  [curr, dist] = findNearest(gps, points);
  if (started && !ended) {
    messages.push(`gps ${curr} ${dist}`);
  }
  word = '';
  if (!started && 25 > distance(gps, points[0])) {
    started = true;
    startingTimePlay = new Date();
    messages.push(`trackStarted ${startingTimePlay.toLocaleString('sv')}`);
    say('track started!');
    userDistancePlay = 0;
    onTrack = true;
    return;
  }
  if (started && !ended && 10 > distance(gps, points[points.length - 1]) && userDistancePlay > 0.5 * playPath.distance) {
    ended = true;
    endingTime = new Date();
    elapsedTime = endingTime - startingTimePlay;
    messages.push(`elapsedTime ${elapsedTime}`);
    say('track ended!');
    return;
  }
  if (!started) {
    return;
  }
  if (ended) {
    return;
  }
  try {
    sayETA(gpsPoints);
  } catch (error) {
    err = error;
    messages.push(`${err}`);
    messages.push(`${err.stack}`);
  }
  if (!onTrack && dist < 10) { // meters
    word = 'track found!';
    onTrack = true;
  } else if (dist > 25) { // meters
    word = 'track lost!';
    onTrack = false;
  } else {
    word = curr + N in hints ? hints[curr + N] : '';
  }
  if (lastSpoken !== word) {
    messages.push(`HINT ${curr} ${points[curr]} ${word} ${dist}`);
    say(word);
    return lastSpoken = word;
  }
};

findNearest = function(p1, polygon) {
  var best, d, dx, dy, i, index, j, len, p, ref, x, y;
  index = 0;
  [x, y] = p1;
  p = polygon[0];
  dx = p[0] - x;
  dy = p[1] - y;
  best = dx * dx + dy * dy;
  ref = range(polygon.length);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    p = polygon[i];
    dx = p[0] - x;
    dy = p[1] - y;
    d = dx * dx + dy * dy;
    if (d < best) {
      best = d;
      index = i;
    }
  }
  return [index, Math.round(Math.sqrt(best))];
};

makeHints = function() {
  var b0, b1, diff, i, j, len, points, ref, word;
  console.log('makeHints');
  hints = {};
  points = playPath.points;
  console.log(points);
  ref = range(2, points.length - 3);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    b0 = bearing(points[i - 2], points[i]);
    b1 = bearing(points[i], points[i + 2]);
    diff = b1 - b0 + 180;
    diff = modulo(diff, 360) - 180;
    word = diffToWord(diff);
    if (word !== '') {
      hints[i] = word;
    }
  }
  return console.log(hints);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGludHMuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcaGludHMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLE9BQUEsRUFBQSxnQkFBQSxFQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLGdCQUFBLEVBQUEsZ0JBQUEsRUFBQSxrQkFBQSxFQUFBLE1BQUE7RUFBQTs7QUFBQSxJQUFBLEdBQU87O0FBQ1AsUUFBQSxHQUFXOztBQUNYLFVBQUEsR0FBYTs7QUFDYixPQUFBLEdBQVU7O0FBQ1YsS0FBQSxHQUFRLENBQUE7O0FBRVIsT0FBQSxHQUFVOztBQUNWLEtBQUEsR0FBUTs7QUFDUixnQkFBQSxHQUFtQjs7QUFDbkIsVUFBQSxHQUFhOztBQUNiLFdBQUEsR0FBYzs7QUFDZCxnQkFBQSxHQUFtQjs7QUFDbkIsa0JBQUEsR0FBcUI7O0FBQ3JCLE9BQUEsR0FBVTs7QUFFVixNQUFBLEdBQVM7O0FBQ1QsT0FBQSxHQUFVOztBQUNWLGdCQUFBLEdBQW1CLEVBakJuQjs7QUFrQkEsR0FBQSxHQUFNOztBQUVOLE1BQU0sQ0FBQyxlQUFlLENBQUMsZUFBdkIsR0FBeUMsUUFBQSxDQUFBLENBQUE7U0FBRyxNQUFBLEdBQVMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxTQUF2QixDQUFBO0FBQVo7O0FBRXpDLFdBQUEsR0FBYyxRQUFBLENBQUEsQ0FBQTtBQUNiLE1BQUE7RUFBQSxLQUFBLEdBQVE7RUFDUixPQUFBLEdBQVUsSUFBSSx3QkFBSixDQUFBO0VBQ1YsT0FBTyxDQUFDLFFBQVIsR0FBbUI7RUFDbkIsT0FBTyxDQUFDLE1BQVIsR0FB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RUFBWDtNQUFtQixLQUFNLENBQUEsQ0FBQSxDQUFOLEdBQVcsS0FBOUI7O0VBUEQ7U0FRQSxPQUFPLENBQUMsR0FBUixDQUFZLEtBQVo7QUFiVyIsInNvdXJjZXNDb250ZW50IjpbImN1cnIgPSAwXHJcbmxhc3RXb3JkID0gJydcclxubGFzdFNwb2tlbiA9ICcnXHJcbnNwZWFrZXIgPSBudWxsXHJcbmhpbnRzID0ge31cclxuXHJcbnN0YXJ0ZWQgPSBmYWxzZVxyXG5lbmRlZCA9IGZhbHNlXHJcbnN0YXJ0aW5nVGltZVBsYXkgPSBudWxsXHJcbmVuZGluZ1RpbWUgPSBudWxsXHJcbmVsYXBzZWRUaW1lID0gMFxyXG51c2VyRGlzdGFuY2VQbGF5ID0gMFxyXG51c2VyRGlzdGFuY2VSZWNvcmQgPSAwXHJcbm9uVHJhY2sgPSB0cnVlXHJcblxyXG52b2ljZXMgPSBudWxsXHJcbmxhc3RFVEEgPSAwXHJcbmxhc3RFVEF0aW1lc3RhbXAgPSAwICMgc2Vjb25kcyBzaW5jZSBzdGFydGluZ1RpbWVQbGF5XHJcbkVUQSA9IDBcclxuXHJcbndpbmRvdy5zcGVlY2hTeW50aGVzaXMub252b2ljZXNjaGFuZ2VkID0gLT4gdm9pY2VzID0gd2luZG93LnNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKVxyXG5cclxuaW5pdFNwZWFrZXIgPSAtPlxyXG5cdGluZGV4ID0gNVxyXG5cdHNwZWFrZXIgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKClcclxuXHRzcGVha2VyLnZvaWNlVVJJID0gXCJuYXRpdmVcIlxyXG5cdHNwZWFrZXIudm9sdW1lID0gMVxyXG5cdHNwZWFrZXIucmF0ZSA9IDEuMFxyXG5cdHNwZWFrZXIucGl0Y2ggPSAwXHJcblx0c3BlYWtlci50ZXh0ID0gJydcclxuXHRzcGVha2VyLmxhbmcgPSAnZW4tR0InXHJcblx0aWYgdm9pY2VzIGFuZCBpbmRleCA8PSB2b2ljZXMubGVuZ3RoLTEgdGhlbiBzcGVha2VyLnZvaWNlID0gdm9pY2VzW2luZGV4XVxyXG5cdHNheSBcIiN7VkVSU0lPTn1cIlxyXG5cclxuc2F5ID0gKG0pIC0+XHJcblx0aWYgc3BlYWtlciA9PSBudWxsIHRoZW4gcmV0dXJuXHJcblx0c3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpXHJcblx0c3BlYWtlci50ZXh0ID0gbVxyXG5cdHNwZWVjaFN5bnRoZXNpcy5zcGVhayBzcGVha2VyXHJcblx0bWVzc2FnZXMucHVzaCAnU0FZICcgKyBtXHJcblxyXG5kaWZmVG9Xb3JkID0gKGRpZmYpIC0+XHJcblx0V09SRFMgPSBbJ3R1cm4gYXJvdW5kJywnc2hhcnAgbGVmdCcsJ21lZGl1bSBsZWZ0JywnbGVmdCcsJycsJ3JpZ2h0JywnbWVkaXVtIHJpZ2h0Jywnc2hhcnAgcmlnaHQnLCd0dXJuIGFyb3VuZCddXHJcblx0V09SRFNbNCArIE1hdGgucm91bmQgZGlmZi80NV1cclxuYXNzICd0dXJuIGFyb3VuZCcsZGlmZlRvV29yZCAtMTgwXHJcbmFzcyAnc2hhcnAgbGVmdCcsZGlmZlRvV29yZCAtMTU3XHJcbmFzcyAnc2hhcnAgbGVmdCcsZGlmZlRvV29yZCAtMTEzXHJcbmFzcyAnbGVmdCcsZGlmZlRvV29yZCAtNjdcclxuYXNzICdsZWZ0JyxkaWZmVG9Xb3JkIC0yM1xyXG5hc3MgJycsZGlmZlRvV29yZCAtMjJcclxuYXNzICcnLGRpZmZUb1dvcmQgMjJcclxuYXNzICdyaWdodCcsZGlmZlRvV29yZCAyM1xyXG5hc3MgJ3JpZ2h0JyxkaWZmVG9Xb3JkIDY3XHJcbmFzcyAnbWVkaXVtIHJpZ2h0JyxkaWZmVG9Xb3JkIDY4XHJcbmFzcyAnbWVkaXVtIHJpZ2h0JyxkaWZmVG9Xb3JkIDExMlxyXG5hc3MgJ3NoYXJwIHJpZ2h0JyxkaWZmVG9Xb3JkIDExM1xyXG5hc3MgJ3NoYXJwIHJpZ2h0JyxkaWZmVG9Xb3JkIDE1N1xyXG5hc3MgJ3R1cm4gYXJvdW5kJyxkaWZmVG9Xb3JkIDE1OFxyXG5hc3MgJ3R1cm4gYXJvdW5kJyxkaWZmVG9Xb3JkIDE4MFxyXG5cclxuc2F5RVRBID0gKGdwc1BvaW50cykgLT5cclxuXHRpZiBncHNQb2ludHMubGVuZ3RoIDwgMiB0aGVuIHJldHVyblxyXG5cdGlmIHN0YXJ0aW5nVGltZVBsYXkgPT0gbnVsbCB0aGVuIHJldHVyblxyXG5cdGlmIHBsYXlQYXRoLmRpc3RhbmNlID09IDAgdGhlbiByZXR1cm5cclxuXHJcblx0biA9IGdwc1BvaW50cy5sZW5ndGhcclxuXHR1c2VyRGlzdGFuY2VQbGF5ICs9IGRpc3RhbmNlIGdwc1BvaW50c1tuLTJdLGdwc1BvaW50c1tuLTFdXHJcblx0aWYgdXNlckRpc3RhbmNlUGxheSA9PSAwIHRoZW4gcmV0dXJuIFxyXG5cdHByb2dyZXNzID0gdXNlckRpc3RhbmNlUGxheSAvIHBsYXlQYXRoLmRpc3RhbmNlXHJcblx0Y3VyclRpbWUgPSBuZXcgRGF0ZSgpXHJcblx0dXNlZFRpbWUgPSBjdXJyVGltZSAtIHN0YXJ0aW5nVGltZVBsYXlcclxuXHRFVEEgPSB1c2VkVGltZSAqIHBsYXlQYXRoLmRpc3RhbmNlIC8gdXNlckRpc3RhbmNlUGxheSAjIG1zXHJcblx0RVRBIC89IDEwMDAgIyBzZWNzXHJcblx0cmVzb2x1dGlvbiA9IGlmIHByb2dyZXNzIDwgMC41IHRoZW4gNjAgZWxzZSAxMFxyXG5cdGlmIHJlc29sdXRpb24gPT0gNjAgdGhlbiBuZXh0RVRBID0gXCIje0VUQSAvLyA2MH1cIlxyXG5cdGlmIHJlc29sdXRpb24gPT0gMTAgdGhlbiBuZXh0RVRBID0gXCIje0VUQSAvLyA2MH0gI3tteVJvdW5kKEVUQSwtMSkgJSA2MH1cIlxyXG5cdGlmIGxhc3RFVEEgIT0gbmV4dEVUQSBhbmQgdXNlZFRpbWUgLSBsYXN0RVRBdGltZXN0YW1wID4gMTAwMDAgIyAxMCBzZWNvbmRzXHJcblx0XHRsYXN0RVRBdGltZXN0YW1wID0gdXNlZFRpbWVcclxuXHRcdGxhc3RFVEEgPSBuZXh0RVRBXHJcblx0XHRzYXkgbmV4dEVUQVxyXG5cclxuc2F5SGludCA9IChncHNQb2ludHMpIC0+XHJcblx0TiA9IDVcclxuXHRpZiBub3QgcGxheVBhdGggb3IgZ3BzUG9pbnRzLmxlbmd0aCA9PSAwIHRoZW4gcmV0dXJuXHJcblx0cG9pbnRzID0gcGxheVBhdGgucG9pbnRzXHJcblx0bGFzdCA9IGdwc1BvaW50cy5sZW5ndGgtMVxyXG5cdGdwcyA9IGdwc1BvaW50c1tsYXN0XVxyXG5cdFtjdXJyLGRpc3RdID0gZmluZE5lYXJlc3QgZ3BzLHBvaW50c1xyXG5cdGlmIHN0YXJ0ZWQgYW5kIG5vdCBlbmRlZCB0aGVuIG1lc3NhZ2VzLnB1c2ggXCJncHMgI3tjdXJyfSAje2Rpc3R9XCJcclxuXHR3b3JkID0gJydcclxuXHJcblx0aWYgbm90IHN0YXJ0ZWQgYW5kIDI1ID4gZGlzdGFuY2UgZ3BzLHBvaW50c1swXVxyXG5cdFx0c3RhcnRlZCA9IHRydWVcclxuXHRcdHN0YXJ0aW5nVGltZVBsYXkgPSBuZXcgRGF0ZSgpXHJcblx0XHRtZXNzYWdlcy5wdXNoIFwidHJhY2tTdGFydGVkICN7c3RhcnRpbmdUaW1lUGxheS50b0xvY2FsZVN0cmluZyAnc3YnfVwiXHJcblx0XHRzYXkgJ3RyYWNrIHN0YXJ0ZWQhJ1xyXG5cdFx0dXNlckRpc3RhbmNlUGxheSA9IDBcclxuXHRcdG9uVHJhY2sgPSB0cnVlXHJcblx0XHRyZXR1cm5cclxuXHJcblx0aWYgc3RhcnRlZCBhbmQgbm90IGVuZGVkIGFuZCAxMCA+IGRpc3RhbmNlKGdwcyxwb2ludHNbcG9pbnRzLmxlbmd0aC0xXSkgYW5kIHVzZXJEaXN0YW5jZVBsYXkgPiAwLjUgKiBwbGF5UGF0aC5kaXN0YW5jZVxyXG5cdFx0ZW5kZWQgPSB0cnVlXHJcblx0XHRlbmRpbmdUaW1lID0gbmV3IERhdGUoKVxyXG5cdFx0ZWxhcHNlZFRpbWUgPSBlbmRpbmdUaW1lIC0gc3RhcnRpbmdUaW1lUGxheVxyXG5cdFx0bWVzc2FnZXMucHVzaCBcImVsYXBzZWRUaW1lICN7ZWxhcHNlZFRpbWV9XCJcclxuXHRcdHNheSAndHJhY2sgZW5kZWQhJ1xyXG5cdFx0cmV0dXJuXHJcblxyXG5cdGlmIG5vdCBzdGFydGVkIHRoZW4gcmV0dXJuXHJcblx0aWYgZW5kZWQgdGhlbiByZXR1cm5cclxuXHJcblx0dHJ5XHJcblx0XHRzYXlFVEEgZ3BzUG9pbnRzXHJcblx0Y2F0Y2ggZXJyXHJcblx0XHRtZXNzYWdlcy5wdXNoIFwiI3tlcnJ9XCJcclxuXHRcdG1lc3NhZ2VzLnB1c2ggXCIje2Vyci5zdGFja31cIlxyXG5cclxuXHRpZiBub3Qgb25UcmFjayBhbmQgZGlzdCA8IDEwICMgbWV0ZXJzXHJcblx0XHR3b3JkID0gJ3RyYWNrIGZvdW5kISdcclxuXHRcdG9uVHJhY2sgPSB0cnVlXHJcblx0ZWxzZSBpZiBkaXN0ID4gMjUgIyBtZXRlcnNcclxuXHRcdHdvcmQgPSAndHJhY2sgbG9zdCEnXHJcblx0XHRvblRyYWNrID0gZmFsc2UgXHJcblx0ZWxzZVxyXG5cdFx0d29yZCA9IGlmIGN1cnIrTiBvZiBoaW50cyB0aGVuIGhpbnRzW2N1cnIrTl0gZWxzZSAnJ1xyXG5cdGlmIGxhc3RTcG9rZW4gIT0gd29yZFxyXG5cdFx0bWVzc2FnZXMucHVzaCBcIkhJTlQgI3tjdXJyfSAje3BvaW50c1tjdXJyXX0gI3t3b3JkfSAje2Rpc3R9XCJcclxuXHRcdHNheSB3b3JkXHJcblx0XHRsYXN0U3Bva2VuID0gd29yZFxyXG5cclxuZmluZE5lYXJlc3QgPSAocDEscG9seWdvbikgLT5cclxuXHRpbmRleCA9IDBcclxuXHRbeCx5XSA9IHAxXHJcblx0cCA9IHBvbHlnb25bMF1cclxuXHRkeCA9IHBbMF0gLSB4XHJcblx0ZHkgPSBwWzFdIC0geVxyXG5cdGJlc3QgPSBkeCpkeCArIGR5KmR5XHJcblx0Zm9yIGkgaW4gcmFuZ2UgcG9seWdvbi5sZW5ndGhcclxuXHRcdHAgPSBwb2x5Z29uW2ldXHJcblx0XHRkeCA9IHBbMF0gLSB4XHJcblx0XHRkeSA9IHBbMV0gLSB5XHJcblx0XHRkID0gZHgqZHggKyBkeSpkeVxyXG5cdFx0aWYgZCA8IGJlc3RcclxuXHRcdFx0YmVzdCA9IGRcclxuXHRcdFx0aW5kZXggPSBpXHJcblx0W2luZGV4LCBNYXRoLnJvdW5kIE1hdGguc3FydCBiZXN0XVxyXG5cclxubWFrZUhpbnRzID0gLT5cclxuXHRjb25zb2xlLmxvZyAnbWFrZUhpbnRzJ1xyXG5cdGhpbnRzID0ge31cclxuXHRwb2ludHMgPSBwbGF5UGF0aC5wb2ludHNcclxuXHRjb25zb2xlLmxvZyBwb2ludHNcclxuXHRmb3IgaSBpbiByYW5nZSAyLHBvaW50cy5sZW5ndGggLSAzXHJcblx0XHRiMCA9IGJlYXJpbmcgcG9pbnRzW2ktMl0scG9pbnRzW2ldXHJcblx0XHRiMSA9IGJlYXJpbmcgcG9pbnRzW2ldLHBvaW50c1tpKzJdXHJcblx0XHRkaWZmID0gYjEgLSBiMCArIDE4MFxyXG5cdFx0ZGlmZiA9IGRpZmYgJSUgMzYwIC0gMTgwXHJcblxyXG5cdFx0d29yZCA9IGRpZmZUb1dvcmQgZGlmZlxyXG5cdFx0aWYgd29yZCAhPSAnJyB0aGVuIGhpbnRzW2ldID0gd29yZFxyXG5cdGNvbnNvbGUubG9nIGhpbnRzXHJcbiJdfQ==
//# sourceURL=c:\github\2021\013-gpsKarta2\coffee\hints.coffee