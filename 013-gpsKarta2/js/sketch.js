// Generated by CoffeeScript 2.4.1
var Button, H, INVISIBLE, SIZE, TILE, TargetButton, W, add, aimButton, aimEvent, ass, bearing, center, centrera, click, convert, degrees, distance, drawMap, images, interpolate, makeText, mouse, mousedown, mousemove, mouseup, position, range, rec, recButton, recEvent, rects, setAttrs, startup, svg, svgurl, target, targetButton, texts;

W = 1080; // window.innerWidth

H = 1080; // window.innerHeight

INVISIBLE = -100;

SIZE = 256; // 128..65536 # rutornas storlek i meter

TILE = 256; // rutornas storlek i pixels

range = _.range;

ass = function(a, b = true) {
  return chai.assert.deepEqual(a, b);
};

svgurl = "http://www.w3.org/2000/svg";

svg = document.getElementById('svgOne');

position = [
  59.09443087294174,
  17.7142975294884 // 128 meter in. (lat long)
];

center = []; // skärmens mittpunkt (sweref). Påverkas av pan (x y) (6 7)

target = []; // målkoordinater (sweref)

targetButton = null;

mouse = [];

images = [];

rects = [];

texts = [];

recButton = null;

rec = 0;

aimButton = null;

degrees = function(radians) {
  return radians * 180 / Math.PI;
};

distance = function(p, q) {
  var dx, dy;
  if (p.length !== 2 || q.length !== 2) {
    return 0;
  }
  dx = p[0] - q[0];
  dy = p[1] - q[1];
  return Math.round(Math.sqrt(dx * dx + dy * dy));
};

bearing = function(p, q) {
  var dx, dy, res;
  if (p.length !== 2 || q.length !== 2) {
    return 0;
  }
  dx = p[0] - q[0];
  dy = p[1] - q[1];
  res = 360 + Math.round(degrees(Math.atan2(dx, dy)));
  return res % 360;
};

Button = class Button {
  constructor(x, y, prompt, event, color = '#f000') {
    this.r = 25;
    if (prompt !== "") {
      this.text = add('text', svg, {
        x: x,
        y: y + 5,
        stroke: 'black',
        'stroke-width': 1,
        'text-anchor': 'middle'
      });
      this.text.textContent = prompt;
      this.text.style.fontSize = '25px';
    }
    this.circle = add('circle', svg, {
      cx: x,
      cy: y,
      r: this.r,
      fill: color,
      stroke: 'black',
      'stroke-width': 1,
      onclick: event
    });
  }

};

TargetButton = class TargetButton extends Button {
  constructor(x, y, event, color) {
    super(x, y, '', event, color);
    this.vline = add('line', svg, {
      x1: x - this.r,
      y1: y,
      x2: x + this.r,
      y2: y,
      stroke: 'black',
      'stroke-width': 1
    });
    this.hline = add('line', svg, {
      x1: x,
      y1: y - this.r,
      x2: x,
      y2: y + this.r,
      stroke: 'black',
      'stroke-width': 1
    });
  }

  move() {
    var antal, dx, dy, x, y;
    if (target.length === 0) {
      return;
    }
    dx = target[0] - center[0];
    dy = target[1] - center[1];
    antal = SIZE / TILE;
    x = W / 2 + dx / antal;
    y = H / 2 - dy / antal;
    return this.moveHard(x, y);
  }

  moveHard(x, y) {
    setAttrs(this.circle, {
      cx: x,
      cy: y
    });
    setAttrs(this.vline, {
      x1: x - this.r,
      y1: y,
      x2: x + this.r,
      y2: y
    });
    return setAttrs(this.hline, {
      x1: x,
      y1: y - this.r,
      x2: x,
      y2: y + this.r
    });
  }

};

add = function(type, parent, attrs) {
  var obj;
  obj = document.createElementNS(svgurl, type);
  parent.appendChild(obj);
  setAttrs(obj, attrs);
  return obj;
};

setAttrs = function(obj, attrs) {
  var key, results;
  results = [];
  for (key in attrs) {
    results.push(obj.setAttributeNS(null, key, attrs[key]));
  }
  return results;
};

click = function(s) {
  if (s === 'in' && SIZE > 128) {
    SIZE = Math.floor(SIZE / 2);
  }
  if (s === 'out' && SIZE < 65536) {
    SIZE *= 2;
  }
  if (s === 'ctr') {
    centrera();
  }
  if (s === 'aim') {
    aimEvent();
  }
  return drawMap();
};

mousedown = function(evt) {
  return mouse = [evt.x, evt.y];
};

mouseup = function(evt) {
  return mouse = [];
};

mousemove = function(evt) {
  var factor;
  if (mouse.length === 0) {
    return;
  }
  factor = 2;
  if (SIZE === 128) {
    factor = 0.5;
  }
  if (SIZE === 256) {
    factor = 1;
  }
  center[0] -= Math.round(evt.movementX * factor);
  center[1] += Math.round(evt.movementY * factor);
  return drawMap();
};

interpolate = function(a, b, c, d, value) {
  return c + value / b * (d - c);
};

ass(16, interpolate(0, 1024, 0, 256, 64));

ass(240, interpolate(0, 1024, 256, 0, 64));

convert = function([x, y], size = SIZE) { // sweref punkt
  var dx, dy;
  dx = x % SIZE; // beräkna vektor dx,dy (sweref)
  dy = y % SIZE;
  x -= dx; // beräkna rutans SW hörn x,y (sweref)
  y -= dy;
  if (SIZE === 128) {
    dx = interpolate(0, SIZE, 256, 0, dx);
    dy = interpolate(0, SIZE, 0, 256, dy);
  } else if (SIZE === 256) {
    dx = interpolate(0, SIZE, 256, 0, dx);
    dy = interpolate(0, SIZE, 0, 256, dy);
  } else if (SIZE === 512) {
    dx = interpolate(0, SIZE, Math.floor(SIZE / 2), 0, dx);
    dy = interpolate(0, SIZE, 0, Math.floor(SIZE / 2), dy);
  } else {
    dx = interpolate(0, SIZE, Math.floor(SIZE / 2), 0, dx);
    dy = interpolate(0, SIZE, 0, Math.floor(SIZE / 2), dy);
  }
  dx = Math.round(dx);
  dy = Math.round(dy);
  return [x, y, dx, dy];
};

drawMap = function() {
  var baseX, baseY, dx, dy, href, i, j, k, l, len, len1, n, px, py, ref, ref1, x, y;
  n = 2;
  [baseX, baseY, dx, dy] = convert(center);
  ref = range(2 * n + 1);
  for (k = 0, len = ref.length; k < len; k++) {
    j = ref[k];
    y = baseY + (j - n) * SIZE;
    py = TILE * (n - j + 1) + dy;
    ref1 = range(2 * n + 1);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      x = baseX + (i - n) * SIZE;
      px = TILE * (i - n + 1) + dx;
      href = `maps\\${SIZE}\\${y}-${x}-${SIZE}.jpg`;
      setAttrs(images[j][i], {
        x: px,
        y: py,
        href: href //#
      });
      setAttrs(rects[j][i], {
        x: px,
        y: py
      });
    }
  }
  texts[0].textContent = `C:${center} T:${target} D:${distance(target, center)} B:${bearing(target, center)}`;
  texts[1].textContent = `Z:${SIZE} B:${[baseX, baseY]} DX:${dx} DY:${dy}`;
  return targetButton.move();
};

centrera = function() {
  var g, grid;
  grid = geodetic_to_grid(position[0], position[1]);
  center = (function() {
    var k, len, results;
    results = [];
    for (k = 0, len = grid.length; k < len; k++) {
      g = grid[k];
      results.push(Math.round(g));
    }
    return results;
  })();
  center.reverse();
  return drawMap();
};

aimEvent = function() {
  if (target.length === 0) {
    target = center.slice();
    return targetButton.moveHard(W / 2, H / 2);
  } else {
    target = [];
    return targetButton.moveHard(INVISIBLE, INVISIBLE);
  }
};

recEvent = function() {
  rec = 1 - rec;
  return recButton.setAttributeNS(null, 'fill', ['#f008', '#f000'][rec]);
};

makeText = function(x, y) {
  var text;
  text = add('text', svg, {
    x: x,
    y: y,
    stroke: 'black',
    'stroke-width': 1,
    'text-anchor': 'middle'
  });
  text.style.fontSize = '25px';
  return texts.push(text);
};

startup = function() {
  var _, g, grid, irow, k, l, len, len1, n, ref, ref1, rrow;
  add('rect', svg, {
    width: W,
    height: H,
    fill: 'green'
  });
  grid = geodetic_to_grid(position[0], position[1]);
  center = (function() {
    var k, len, results;
    results = [];
    for (k = 0, len = grid.length; k < len; k++) {
      g = grid[k];
      results.push(Math.round(g));
    }
    return results;
  })();
  center.reverse();
  images = [];
  rects = [];
  texts = [];
  n = 2;
  ref = range(2 * n + 1);
  for (k = 0, len = ref.length; k < len; k++) {
    _ = ref[k];
    irow = [];
    rrow = [];
    ref1 = range(2 * n + 1);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      _ = ref1[l];
      irow.push(add('image', svg, {}));
      rrow.push(add('rect', svg, {
        width: TILE,
        height: TILE,
        stroke: 'black',
        'stroke-width': 1,
        fill: 'none'
      }));
    }
    images.push(irow);
    rects.push(rrow);
  }
  makeText(W / 2, 40);
  makeText(W / 2, H - 30);
  targetButton = new TargetButton(INVISIBLE, INVISIBLE, '', '#f008');
  aimButton = new TargetButton(W / 2, H / 2, "click('aim')");
  new Button(35, 35, 'in', "click('in')");
  new Button(W - 35, 35, 'out', "click('out')");
  new Button(35, H - 35, 'ctr', "click('ctr')");
  recButton = new Button(W - 35, H - 35, 'rec', "recEvent()");
  console.log(grid_to_geodetic(6553600 + 128, 655360 + 128));
  console.log(grid_to_geodetic(6553600 + 3.5 * 128, 655360 + 3.5 * 128));
  return drawMap();
};

startup();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxTQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLFlBQUEsRUFBQTs7QUFBQSxDQUFBLEdBQUksS0FBSjs7QUFDQSxDQUFBLEdBQUksS0FESjs7QUFFQSxTQUFBLEdBQVksQ0FBQzs7QUFDYixJQUFBLEdBQU8sSUFIUDs7QUFJQSxJQUFBLEdBQU8sSUFKUDs7QUFNQSxLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUNWLEdBQUEsR0FBTSxRQUFBLENBQUMsQ0FBRCxFQUFHLElBQUUsSUFBTCxDQUFBO1NBQWMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFaLENBQXNCLENBQXRCLEVBQXlCLENBQXpCO0FBQWQ7O0FBRU4sTUFBQSxHQUFTOztBQUNULEdBQUEsR0FBTSxRQUFRLENBQUMsY0FBVCxDQUF3QixRQUF4Qjs7QUFFTixRQUFBLEdBQVc7RUFBQyxpQkFBRDtFQUFvQixnQkFBcEI7OztBQUVYLE1BQUEsR0FBUyxHQWRUOztBQWVBLE1BQUEsR0FBUyxHQWZUOztBQWdCQSxZQUFBLEdBQWU7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SSxZQUFKLENBQWlCLENBQUEsR0FBRSxDQUFuQixFQUFzQixDQUFBLEdBQUUsQ0FBeEIsRUFBMkIsY0FBM0I7RUFDWixJQUFJLE1BQUosQ0FBVyxFQUFYLEVBQWlCLEVBQWpCLEVBQXFCLElBQXJCLEVBQTRCLGFBQTVCO0VBQ0EsSUFBSSxNQUFKLENBQVcsQ0FBQSxHQUFFLEVBQWIsRUFBaUIsRUFBakIsRUFBcUIsS0FBckIsRUFBNEIsY0FBNUI7RUFDQSxJQUFJLE1BQUosQ0FBVyxFQUFYLEVBQWUsQ0FBQSxHQUFFLEVBQWpCLEVBQXFCLEtBQXJCLEVBQTRCLGNBQTVCO0VBQ0EsU0FBQSxHQUFZLElBQUksTUFBSixDQUFXLENBQUEsR0FBRSxFQUFiLEVBQWlCLENBQUEsR0FBRSxFQUFuQixFQUF1QixLQUF2QixFQUE4QixZQUE5QjtFQUVaLE9BQU8sQ0FBQyxHQUFSLENBQVksZ0JBQUEsQ0FBaUIsT0FBQSxHQUFRLEdBQXpCLEVBQTZCLE1BQUEsR0FBTyxHQUFwQyxDQUFaO0VBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxnQkFBQSxDQUFpQixPQUFBLEdBQVEsR0FBQSxHQUFJLEdBQTdCLEVBQWlDLE1BQUEsR0FBTyxHQUFBLEdBQUksR0FBNUMsQ0FBWjtTQUNBLE9BQUEsQ0FBQTtBQWhDUzs7QUFrQ1YsT0FBQSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiVyA9IDEwODAgIyB3aW5kb3cuaW5uZXJXaWR0aFxyXG5IID0gMTA4MCAjIHdpbmRvdy5pbm5lckhlaWdodFxyXG5JTlZJU0lCTEUgPSAtMTAwXHJcblNJWkUgPSAyNTYgIyAxMjguLjY1NTM2ICMgcnV0b3JuYXMgc3RvcmxlayBpIG1ldGVyXHJcblRJTEUgPSAyNTYgIyBydXRvcm5hcyBzdG9ybGVrIGkgcGl4ZWxzXHJcblxyXG5yYW5nZSA9IF8ucmFuZ2VcclxuYXNzID0gKGEsYj10cnVlKSAtPiBjaGFpLmFzc2VydC5kZWVwRXF1YWwgYSwgYlxyXG5cclxuc3ZndXJsID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbnN2ZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICdzdmdPbmUnXHJcblxyXG5wb3NpdGlvbiA9IFs1OS4wOTQ0MzA4NzI5NDE3NCwgMTcuNzE0Mjk3NTI5NDg4NF0gIyAxMjggbWV0ZXIgaW4uIChsYXQgbG9uZylcclxuXHJcbmNlbnRlciA9IFtdICMgc2vDpHJtZW5zIG1pdHRwdW5rdCAoc3dlcmVmKS4gUMOldmVya2FzIGF2IHBhbiAoeCB5KSAoNiA3KVxyXG50YXJnZXQgPSBbXSAjIG3DpWxrb29yZGluYXRlciAoc3dlcmVmKVxyXG50YXJnZXRCdXR0b24gPSBudWxsXHJcblxyXG5tb3VzZSA9IFtdXHJcblxyXG5pbWFnZXMgPSBbXVxyXG5yZWN0cyA9IFtdXHJcbnRleHRzID0gW11cclxuXHJcbnJlY0J1dHRvbiA9IG51bGxcclxucmVjID0gMFxyXG5haW1CdXR0b24gPSBudWxsXHJcblxyXG5kZWdyZWVzID0gKHJhZGlhbnMpIC0+IHJhZGlhbnMgKiAxODAgLyBNYXRoLlBJXHJcblxyXG5kaXN0YW5jZSA9IChwLHEpIC0+XHJcblx0aWYgcC5sZW5ndGggIT0gMiBvciBxLmxlbmd0aCAhPSAyIHRoZW4gcmV0dXJuIDBcclxuXHJcblx0ZHggPSBwWzBdIC0gcVswXVxyXG5cdGR5ID0gcFsxXSAtIHFbMV1cclxuXHRNYXRoLnJvdW5kIE1hdGguc3FydCBkeCAqIGR4ICsgZHkgKiBkeVxyXG5cclxuYmVhcmluZyA9IChwLHEpIC0+XHJcblx0aWYgcC5sZW5ndGghPTIgb3IgcS5sZW5ndGghPTIgdGhlbiByZXR1cm4gMFxyXG5cdGR4ID0gcFswXSAtIHFbMF1cclxuXHRkeSA9IHBbMV0gLSBxWzFdXHJcblx0cmVzID0gMzYwICsgTWF0aC5yb3VuZCBkZWdyZWVzIE1hdGguYXRhbjIgZHgsZHlcclxuXHRyZXMgJSAzNjBcclxuXHJcbmNsYXNzIEJ1dHRvbiBcclxuXHRjb25zdHJ1Y3RvciA6ICh4LHkscHJvbXB0LGV2ZW50LGNvbG9yPScjZjAwMCcpIC0+XHJcblx0XHRAciA9IDI1XHJcblx0XHRpZiBwcm9tcHQgIT0gXCJcIlxyXG5cdFx0XHRAdGV4dCA9IGFkZCAndGV4dCcsc3ZnLCB7eDp4LCB5OnkrNSwgc3Ryb2tlOidibGFjaycsICdzdHJva2Utd2lkdGgnOjEsICd0ZXh0LWFuY2hvcic6J21pZGRsZSd9XHJcblx0XHRcdEB0ZXh0LnRleHRDb250ZW50ID0gcHJvbXB0XHJcblx0XHRcdEB0ZXh0LnN0eWxlLmZvbnRTaXplID0gJzI1cHgnXHJcblx0XHRAY2lyY2xlID0gYWRkICdjaXJjbGUnLHN2Zywge2N4OngsIGN5OnksIHI6QHIsIGZpbGw6Y29sb3IsIHN0cm9rZTonYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzoxLCBvbmNsaWNrOmV2ZW50fVxyXG5cclxuY2xhc3MgVGFyZ2V0QnV0dG9uIGV4dGVuZHMgQnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAoeCx5LGV2ZW50LGNvbG9yKSAtPlxyXG5cdFx0c3VwZXIgeCx5LCcnLGV2ZW50LGNvbG9yXHJcblx0XHRAdmxpbmUgPSBhZGQgJ2xpbmUnLHN2Zywge3gxOngtQHIsIHkxOnksIHgyOngrQHIsIHkyOnksIHN0cm9rZTonYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzoxfVxyXG5cdFx0QGhsaW5lID0gYWRkICdsaW5lJyxzdmcsIHt4MTp4LCB5MTp5LUByLCB4Mjp4LCB5Mjp5K0ByLCBzdHJva2U6J2JsYWNrJywgJ3N0cm9rZS13aWR0aCc6MX1cclxuXHJcblx0bW92ZSA6IC0+XHJcblx0XHRpZiB0YXJnZXQubGVuZ3RoID09IDAgdGhlbiByZXR1cm5cclxuXHRcdGR4ID0gdGFyZ2V0WzBdIC0gY2VudGVyWzBdXHJcblx0XHRkeSA9IHRhcmdldFsxXSAtIGNlbnRlclsxXVxyXG5cdFx0YW50YWwgPSBTSVpFL1RJTEVcclxuXHRcdHggPSBXLzIgKyBkeCAvIGFudGFsXHJcblx0XHR5ID0gSC8yIC0gZHkgLyBhbnRhbFxyXG5cdFx0QG1vdmVIYXJkIHgseVxyXG5cclxuXHRtb3ZlSGFyZCA6ICh4LHkpIC0+XHJcblx0XHRzZXRBdHRycyBAY2lyY2xlLCB7Y3g6eCwgY3k6eX1cclxuXHRcdHNldEF0dHJzIEB2bGluZSwge3gxOngtQHIsIHkxOnksIHgyOngrQHIsIHkyOnl9XHJcblx0XHRzZXRBdHRycyBAaGxpbmUsIHt4MTp4LCB5MTp5LUByLCB4Mjp4LCB5Mjp5K0ByfVxyXG5cclxuYWRkID0gKHR5cGUscGFyZW50LGF0dHJzKSAtPlxyXG5cdG9iaiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyBzdmd1cmwsIHR5cGVcclxuXHRwYXJlbnQuYXBwZW5kQ2hpbGQgb2JqXHJcblx0c2V0QXR0cnMgb2JqLGF0dHJzXHJcblx0b2JqXHJcblxyXG5zZXRBdHRycyA9IChvYmosYXR0cnMpIC0+XHJcblx0Zm9yIGtleSBvZiBhdHRyc1xyXG5cdFx0b2JqLnNldEF0dHJpYnV0ZU5TIG51bGwsIGtleSwgYXR0cnNba2V5XVxyXG5cclxuY2xpY2sgPSAocykgLT4gXHJcblx0aWYgcz09J2luJyAgYW5kIFNJWkUgPiAxMjggdGhlbiBTSVpFIC8vPSAyXHJcblx0aWYgcz09J291dCcgYW5kIFNJWkUgPCA2NTUzNiB0aGVuIFNJWkUgKj0gMlxyXG5cdGlmIHM9PSdjdHInIHRoZW4gY2VudHJlcmEoKVxyXG5cdGlmIHM9PSdhaW0nIHRoZW4gYWltRXZlbnQoKVxyXG5cdGRyYXdNYXAoKVxyXG5cclxubW91c2Vkb3duID0gKGV2dCkgLT4gbW91c2UgPSBbZXZ0LngsZXZ0LnldXHJcbm1vdXNldXAgICA9IChldnQpIC0+IG1vdXNlID0gW11cclxubW91c2Vtb3ZlID0gKGV2dCkgLT5cclxuXHRpZiBtb3VzZS5sZW5ndGggPT0gMCB0aGVuIHJldHVyblxyXG5cdGZhY3RvciA9IDJcclxuXHRpZiBTSVpFID09IDEyOCB0aGVuIGZhY3RvciA9IDAuNVxyXG5cdGlmIFNJWkUgPT0gMjU2IHRoZW4gZmFjdG9yID0gMVxyXG5cdGNlbnRlclswXSAtPSBNYXRoLnJvdW5kIGV2dC5tb3ZlbWVudFggKiBmYWN0b3JcclxuXHRjZW50ZXJbMV0gKz0gTWF0aC5yb3VuZCBldnQubW92ZW1lbnRZICogZmFjdG9yXHJcblx0ZHJhd01hcCgpXHJcblxyXG5pbnRlcnBvbGF0ZSA9IChhLCBiLCBjLCBkLCB2YWx1ZSkgLT4gYyArIHZhbHVlL2IgKiAoZC1jKVxyXG5hc3MgMTYsIGludGVycG9sYXRlIDAsMTAyNCwwLDI1Niw2NFxyXG5hc3MgMjQwLCBpbnRlcnBvbGF0ZSAwLDEwMjQsMjU2LDAsNjRcclxuXHJcbmNvbnZlcnQgPSAoW3gseV0sc2l6ZT1TSVpFKSAtPiAjIHN3ZXJlZiBwdW5rdFxyXG5cclxuXHRkeCA9IHggJSBTSVpFICMgYmVyw6RrbmEgdmVrdG9yIGR4LGR5IChzd2VyZWYpXHJcblx0ZHkgPSB5ICUgU0laRVxyXG5cdHggLT0gZHggICAgICAgIyBiZXLDpGtuYSBydXRhbnMgU1cgaMO2cm4geCx5IChzd2VyZWYpXHJcblx0eSAtPSBkeVxyXG5cclxuXHRpZiBTSVpFPT0xMjhcclxuXHRcdGR4ID0gaW50ZXJwb2xhdGUgMCxTSVpFLCAyNTYsMCwgZHhcclxuXHRcdGR5ID0gaW50ZXJwb2xhdGUgMCxTSVpFLCAwLDI1NiwgZHlcclxuXHRlbHNlIGlmIFNJWkUgPT0gMjU2XHJcblx0XHRkeCA9IGludGVycG9sYXRlIDAsU0laRSwgMjU2LDAsIGR4XHJcblx0XHRkeSA9IGludGVycG9sYXRlIDAsU0laRSwgMCwyNTYsIGR5XHJcblx0ZWxzZSBpZiBTSVpFID09IDUxMlxyXG5cdFx0ZHggPSBpbnRlcnBvbGF0ZSAwLFNJWkUsIFNJWkUvLzIsMCwgZHhcclxuXHRcdGR5ID0gaW50ZXJwb2xhdGUgMCxTSVpFLCAwLFNJWkUvLzIsIGR5XHJcblx0ZWxzZVxyXG5cdFx0ZHggPSBpbnRlcnBvbGF0ZSAwLFNJWkUsIFNJWkUvLzIsMCwgZHhcclxuXHRcdGR5ID0gaW50ZXJwb2xhdGUgMCxTSVpFLCAwLFNJWkUvLzIsIGR5XHJcblxyXG5cdGR4ID0gTWF0aC5yb3VuZCBkeFxyXG5cdGR5ID0gTWF0aC5yb3VuZCBkeVxyXG5cclxuXHRbeCx5LCBkeCxkeV1cclxuXHJcbmRyYXdNYXAgPSAtPlxyXG5cdG4gPSAyXHJcblx0W2Jhc2VYLGJhc2VZLGR4LGR5XSA9IGNvbnZlcnQgY2VudGVyXHJcblx0Zm9yIGogaW4gcmFuZ2UgMipuKzFcclxuXHRcdHkgPSBiYXNlWSArIChqLW4pICogU0laRVxyXG5cdFx0cHkgPSBUSUxFKihuLWorMSkrZHlcclxuXHRcdGZvciBpIGluIHJhbmdlIDIqbisxXHJcblx0XHRcdHggPSBiYXNlWCArIChpLW4pICogU0laRVxyXG5cdFx0XHRweCA9IFRJTEUqKGktbisxKStkeFxyXG5cdFx0XHRocmVmID0gXCJtYXBzXFxcXCN7U0laRX1cXFxcI3t5fS0je3h9LSN7U0laRX0uanBnXCJcclxuXHRcdFx0c2V0QXR0cnMgaW1hZ2VzW2pdW2ldLCB7eDpweCwgeTpweSwgaHJlZjpocmVmfSAjI1xyXG5cdFx0XHRzZXRBdHRycyByZWN0c1tqXVtpXSwgIHt4OnB4LCB5OnB5fVxyXG5cdHRleHRzWzBdLnRleHRDb250ZW50ID0gXCJDOiN7Y2VudGVyfSBUOiN7dGFyZ2V0fSBEOiN7ZGlzdGFuY2UodGFyZ2V0LGNlbnRlcil9IEI6I3tiZWFyaW5nKHRhcmdldCxjZW50ZXIpfVwiXHJcblx0dGV4dHNbMV0udGV4dENvbnRlbnQgPSBcIlo6I3tTSVpFfSBCOiN7W2Jhc2VYLGJhc2VZXX0gRFg6I3tkeH0gRFk6I3tkeX1cIlxyXG5cdHRhcmdldEJ1dHRvbi5tb3ZlKClcclxuXHJcbmNlbnRyZXJhID0gLT5cclxuXHRncmlkID0gZ2VvZGV0aWNfdG9fZ3JpZCBwb3NpdGlvblswXSxwb3NpdGlvblsxXVxyXG5cdGNlbnRlciA9IChNYXRoLnJvdW5kIGcgZm9yIGcgaW4gZ3JpZClcclxuXHRjZW50ZXIucmV2ZXJzZSgpXHJcblx0ZHJhd01hcCgpXHJcblxyXG5haW1FdmVudCA9IC0+XHJcblx0aWYgdGFyZ2V0Lmxlbmd0aCA9PSAwXHJcblx0XHR0YXJnZXQgPSBjZW50ZXIuc2xpY2UoKVxyXG5cdFx0dGFyZ2V0QnV0dG9uLm1vdmVIYXJkIFcvMixILzJcclxuXHRlbHNlXHJcblx0XHR0YXJnZXQgPSBbXVxyXG5cdFx0dGFyZ2V0QnV0dG9uLm1vdmVIYXJkIElOVklTSUJMRSwgSU5WSVNJQkxFXHJcblxyXG5yZWNFdmVudCA9IC0+XHJcblx0cmVjID0gMSAtIHJlY1xyXG5cdHJlY0J1dHRvbi5zZXRBdHRyaWJ1dGVOUyBudWxsLCAnZmlsbCcsWycjZjAwOCcsJyNmMDAwJ11bcmVjXVxyXG5cclxubWFrZVRleHQgPSAoeCx5KSAtPlxyXG5cdHRleHQgPSBhZGQgJ3RleHQnLHN2Zywge3g6eCwgeTp5LCBzdHJva2U6J2JsYWNrJywgJ3N0cm9rZS13aWR0aCc6MSwgJ3RleHQtYW5jaG9yJzonbWlkZGxlJ31cclxuXHR0ZXh0LnN0eWxlLmZvbnRTaXplID0gJzI1cHgnXHJcblx0dGV4dHMucHVzaCB0ZXh0XHJcblxyXG5zdGFydHVwID0gLT5cclxuXHRhZGQgJ3JlY3QnLHN2Zyx7d2lkdGg6VywgaGVpZ2h0OkgsIGZpbGw6J2dyZWVuJ31cclxuXHRncmlkID0gZ2VvZGV0aWNfdG9fZ3JpZCBwb3NpdGlvblswXSxwb3NpdGlvblsxXVxyXG5cdGNlbnRlciA9IChNYXRoLnJvdW5kIGcgZm9yIGcgaW4gZ3JpZClcclxuXHRjZW50ZXIucmV2ZXJzZSgpXHJcblxyXG5cdGltYWdlcyA9IFtdXHJcblx0cmVjdHMgPSBbXVxyXG5cdHRleHRzID0gW11cclxuXHJcblx0biA9IDJcclxuXHRmb3IgXyBpbiByYW5nZSAyKm4rMVxyXG5cdFx0aXJvdyA9IFtdXHJcblx0XHRycm93ID0gW11cclxuXHRcdGZvciBfIGluIHJhbmdlIDIqbisxXHJcblx0XHRcdGlyb3cucHVzaCBhZGQgJ2ltYWdlJyxzdmcsIHt9XHJcblx0XHRcdHJyb3cucHVzaCBhZGQgJ3JlY3QnLCBzdmcsIHt3aWR0aDpUSUxFLCBoZWlnaHQ6VElMRSwgc3Ryb2tlOidibGFjaycsICdzdHJva2Utd2lkdGgnOjEsIGZpbGw6J25vbmUnfVxyXG5cdFx0aW1hZ2VzLnB1c2ggaXJvd1xyXG5cdFx0cmVjdHMucHVzaCBycm93XHJcblxyXG5cdG1ha2VUZXh0IFcvMiwgNDBcclxuXHRtYWtlVGV4dCBXLzIsIEgtMzBcclxuXHJcblx0dGFyZ2V0QnV0dG9uID0gbmV3IFRhcmdldEJ1dHRvbiBJTlZJU0lCTEUsIElOVklTSUJMRSwgJycsICcjZjAwOCdcclxuXHRhaW1CdXR0b24gPSBuZXcgVGFyZ2V0QnV0dG9uIFcvMiwgSC8yLCBcImNsaWNrKCdhaW0nKVwiXHJcblx0bmV3IEJ1dHRvbiAzNSwgICAzNSwgJ2luJywgIFwiY2xpY2soJ2luJylcIlxyXG5cdG5ldyBCdXR0b24gVy0zNSwgMzUsICdvdXQnLCBcImNsaWNrKCdvdXQnKVwiXHJcblx0bmV3IEJ1dHRvbiAzNSwgSC0zNSwgJ2N0cicsIFwiY2xpY2soJ2N0cicpXCJcclxuXHRyZWNCdXR0b24gPSBuZXcgQnV0dG9uIFctMzUsIEgtMzUsICdyZWMnLCBcInJlY0V2ZW50KClcIlxyXG5cclxuXHRjb25zb2xlLmxvZyBncmlkX3RvX2dlb2RldGljIDY1NTM2MDArMTI4LDY1NTM2MCsxMjhcclxuXHRjb25zb2xlLmxvZyBncmlkX3RvX2dlb2RldGljIDY1NTM2MDArMy41KjEyOCw2NTUzNjArMy41KjEyOFxyXG5cdGRyYXdNYXAoKVxyXG5cclxuc3RhcnR1cCgpXHJcblxyXG4iXX0=
//# sourceURL=c:\github\2021\013-gpsKarta2\coffee\sketch.coffee