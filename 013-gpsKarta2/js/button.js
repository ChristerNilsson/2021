// Generated by CoffeeScript 2.4.1
var Button, TargetButton;

Button = class Button {
  constructor(x1, y1, prompt, event, color = '#f000') {
    this.x = x1;
    this.y = y1;
    this.prompt = prompt;
    this.r = H * 0.1;
    this.circle0 = add('circle', svg, {
      cx: this.x,
      cy: this.y,
      r: this.r,
      fill: 'none',
      stroke: 'black',
      'stroke-width': 1
    });
    if (this.prompt !== "") {
      this.text = add('text', svg, {
        x: this.x,
        y: this.y + 10,
        stroke: 'none',
        fill: 'black',
        'stroke-width': 1,
        'text-anchor': 'middle'
      });
      this.text.textContent = this.prompt;
      this.text.style.fontSize = '50px';
      this.text.style.userSelect = 'none';
    }
    this.circle1 = add('circle', svg, {
      cx: this.x,
      cy: this.y,
      r: this.r,
      fill: color,
      stroke: 'black',
      'stroke-width': 1,
      ontouchstart: event,
      onclick: event
    });
  }

  setColor(color) {
    return setAttrs(this.circle1, {
      fill: color
    });
  }

  setTextFill(color) {
    return setAttrs(this.text, {
      fill: color
    });
  }

  enable() {
    setAttrs(this.circle0, {
      cx: this.x
    });
    setAttrs(this.circle1, {
      cx: this.x
    });
    if (this.prompt !== '') {
      return setAttrs(this.text, {
        x: this.x
      });
    }
  }

  disable() {
    setAttrs(this.circle0, {
      cx: INVISIBLE
    });
    setAttrs(this.circle1, {
      cx: INVISIBLE
    });
    if (this.prompt !== '') {
      return setAttrs(this.text, {
        x: INVISIBLE
      });
    }
  }

};

TargetButton = class TargetButton extends Button {
  constructor(x, y, event, color) {
    super(x, y, '', event, color);
    this.vline = add('line', svg, {
      x1: x - this.r,
      y1: y,
      x2: x + this.r,
      y2: y,
      stroke: 'black',
      'stroke-width': 1
    });
    this.hline = add('line', svg, {
      x1: x,
      y1: y - this.r,
      x2: x,
      y2: y + this.r,
      stroke: 'black',
      'stroke-width': 1
    });
  }

  move() {
    var antal, dx, dy, x, y;
    if (target.length === 0) {
      return;
    }
    dx = target[0] - center[0];
    dy = target[1] - center[1];
    antal = SIZE / TILE;
    x = W / 2 + dx / antal;
    y = H / 2 - dy / antal;
    return this.moveHard(x, y);
  }

  moveHard(x, y) {
    setAttrs(this.circle1, {
      cx: x,
      cy: y
    });
    setAttrs(this.vline, {
      x1: x - this.r,
      y1: y,
      x2: x + this.r,
      y2: y
    });
    return setAttrs(this.hline, {
      x1: x,
      y1: y - this.r,
      x2: x,
      y2: y + this.r
    });
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXGJ1dHRvbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQSxFQUFBOztBQUFNLFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxHQUFBLElBQUEsUUFBQSxFQUFlLEtBQWYsRUFBcUIsUUFBTSxPQUEzQixDQUFBO0lBQUMsSUFBQyxDQUFBO0lBQUUsSUFBQyxDQUFBO0lBQUUsSUFBQyxDQUFBO0lBQ3JCLElBQUMsQ0FBQSxDQUFELEdBQUssQ0FBQSxHQUFJO0lBQ1QsSUFBQyxDQUFBLE9BQUQsR0FBVyxHQUFBLENBQUksUUFBSixFQUFhLEdBQWIsRUFBa0I7TUFBQyxFQUFBLEVBQUcsSUFBQyxDQUFBLENBQUw7TUFBUSxFQUFBLEVBQUcsSUFBQyxDQUFBLENBQVo7TUFBZSxDQUFBLEVBQUUsSUFBQyxDQUFBLENBQWxCO01BQXFCLElBQUEsRUFBSyxNQUExQjtNQUFrQyxNQUFBLEVBQU8sT0FBekM7TUFBa0QsY0FBQSxFQUFlO0lBQWpFLENBQWxCO0lBQ1gsSUFBRyxJQUFDLENBQUEsTUFBRCxLQUFXLEVBQWQ7TUFDQyxJQUFDLENBQUEsSUFBRCxHQUFRLEdBQUEsQ0FBSSxNQUFKLEVBQVcsR0FBWCxFQUFnQjtRQUFDLENBQUEsRUFBRSxJQUFDLENBQUEsQ0FBSjtRQUFPLENBQUEsRUFBRSxJQUFDLENBQUEsQ0FBRCxHQUFHLEVBQVo7UUFBZ0IsTUFBQSxFQUFPLE1BQXZCO1FBQStCLElBQUEsRUFBSyxPQUFwQztRQUE2QyxjQUFBLEVBQWUsQ0FBNUQ7UUFBK0QsYUFBQSxFQUFjO01BQTdFLENBQWhCO01BQ1IsSUFBQyxDQUFBLElBQUksQ0FBQyxXQUFOLEdBQW9CLElBQUMsQ0FBQTtNQUNyQixJQUFDLENBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFaLEdBQXVCO01BQ3ZCLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVosR0FB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Q3hCLEVBQUEsR0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFQLEdBQVksTUFBTyxDQUFBLENBQUE7SUFDeEIsS0FBQSxHQUFRLElBQUEsR0FBSztJQUNiLENBQUEsR0FBSSxDQUFBLEdBQUUsQ0FBRixHQUFNLEVBQUEsR0FBSztJQUNmLENBQUEsR0FBSSxDQUFBLEdBQUUsQ0FBRixHQUFNLEVBQUEsR0FBSztXQUNmLElBQUMsQ0FBQSxRQUFELENBQVUsQ0FBVixFQUFZLENBQVo7RUFQTTs7RUFTUCxRQUFXLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtJQUNWLFFBQUEsQ0FBUyxJQUFDLENBQUEsT0FBVixFQUFtQjtNQUFDLEVBQUEsRUFBRyxDQUFKO01BQU8sRUFBQSxFQUFHO0lBQVYsQ0FBbkI7SUFDQSxRQUFBLENBQVMsSUFBQyxDQUFBLEtBQVYsRUFBaUI7TUFBQyxFQUFBLEVBQUcsQ0FBQSxHQUFFLElBQUMsQ0FBQSxDQUFQO01BQVUsRUFBQSxFQUFHLENBQWI7TUFBZ0IsRUFBQSxFQUFHLENBQUEsR0FBRSxJQUFDLENBQUEsQ0FBdEI7TUFBeUIsRUFBQSxFQUFHO0lBQTVCLENBQWpCO1dBQ0EsUUFBQSxDQUFTLElBQUMsQ0FBQSxLQUFWLEVBQWlCO01BQUMsRUFBQSxFQUFHLENBQUo7TUFBTyxFQUFBLEVBQUcsQ0FBQSxHQUFFLElBQUMsQ0FBQSxDQUFiO01BQWdCLEVBQUEsRUFBRyxDQUFuQjtNQUFzQixFQUFBLEVBQUcsQ0FBQSxHQUFFLElBQUMsQ0FBQTtJQUE1QixDQUFqQjtFQUhVOztBQWZaIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQnV0dG9uIFxyXG5cdGNvbnN0cnVjdG9yIDogKEB4LEB5LEBwcm9tcHQsZXZlbnQsY29sb3I9JyNmMDAwJykgLT5cclxuXHRcdEByID0gSCAqIDAuMVxyXG5cdFx0QGNpcmNsZTAgPSBhZGQgJ2NpcmNsZScsc3ZnLCB7Y3g6QHgsIGN5OkB5LCByOkByLCBmaWxsOidub25lJywgc3Ryb2tlOidibGFjaycsICdzdHJva2Utd2lkdGgnOjF9XHJcblx0XHRpZiBAcHJvbXB0ICE9IFwiXCJcclxuXHRcdFx0QHRleHQgPSBhZGQgJ3RleHQnLHN2Zywge3g6QHgsIHk6QHkrMTAsIHN0cm9rZTonbm9uZScsIGZpbGw6J2JsYWNrJywgJ3N0cm9rZS13aWR0aCc6MSwgJ3RleHQtYW5jaG9yJzonbWlkZGxlJ31cclxuXHRcdFx0QHRleHQudGV4dENvbnRlbnQgPSBAcHJvbXB0XHJcblx0XHRcdEB0ZXh0LnN0eWxlLmZvbnRTaXplID0gJzUwcHgnXHJcblx0XHRcdEB0ZXh0LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSdcclxuXHRcdEBjaXJjbGUxID0gYWRkICdjaXJjbGUnLHN2Zywge2N4OkB4LCBjeTpAeSwgcjpAciwgZmlsbDpjb2xvciwgc3Ryb2tlOidibGFjaycsICdzdHJva2Utd2lkdGgnOjEsIG9udG91Y2hzdGFydDpldmVudCwgb25jbGljazpldmVudH1cclxuXHRzZXRDb2xvciA6IChjb2xvcikgLT4gc2V0QXR0cnMgQGNpcmNsZTEsIHtmaWxsOmNvbG9yfVxyXG5cdHNldFRleHRGaWxsIDogKGNvbG9yKSAtPiBzZXRBdHRycyBAdGV4dCwge2ZpbGw6Y29sb3J9XHJcblx0ZW5hYmxlIDogLT4gXHJcblx0XHRzZXRBdHRycyBAY2lyY2xlMCwge2N4OkB4fVxyXG5cdFx0c2V0QXR0cnMgQGNpcmNsZTEsIHtjeDpAeH1cclxuXHRcdGlmIEBwcm9tcHQhPScnIHRoZW4gc2V0QXR0cnMgQHRleHQsIHt4OkB4fVxyXG5cdGRpc2FibGUgOiAtPiBcclxuXHRcdHNldEF0dHJzIEBjaXJjbGUwLCB7Y3g6SU5WSVNJQkxFfVxyXG5cdFx0c2V0QXR0cnMgQGNpcmNsZTEsIHtjeDpJTlZJU0lCTEV9XHJcblx0XHRpZiBAcHJvbXB0IT0nJyB0aGVuIHNldEF0dHJzIEB0ZXh0LCB7eDpJTlZJU0lCTEV9XHJcblxyXG5jbGFzcyBUYXJnZXRCdXR0b24gZXh0ZW5kcyBCdXR0b25cclxuXHRjb25zdHJ1Y3RvciA6ICh4LHksZXZlbnQsY29sb3IpIC0+XHJcblx0XHRzdXBlciB4LHksJycsZXZlbnQsY29sb3JcclxuXHRcdEB2bGluZSA9IGFkZCAnbGluZScsc3ZnLCB7eDE6eC1AciwgeTE6eSwgeDI6eCtAciwgeTI6eSwgc3Ryb2tlOidibGFjaycsICdzdHJva2Utd2lkdGgnOjF9XHJcblx0XHRAaGxpbmUgPSBhZGQgJ2xpbmUnLHN2Zywge3gxOngsIHkxOnktQHIsIHgyOngsIHkyOnkrQHIsIHN0cm9rZTonYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzoxfVxyXG5cclxuXHRtb3ZlIDogLT5cclxuXHRcdGlmIHRhcmdldC5sZW5ndGggPT0gMCB0aGVuIHJldHVyblxyXG5cdFx0ZHggPSB0YXJnZXRbMF0gLSBjZW50ZXJbMF1cclxuXHRcdGR5ID0gdGFyZ2V0WzFdIC0gY2VudGVyWzFdXHJcblx0XHRhbnRhbCA9IFNJWkUvVElMRVxyXG5cdFx0eCA9IFcvMiArIGR4IC8gYW50YWxcclxuXHRcdHkgPSBILzIgLSBkeSAvIGFudGFsXHJcblx0XHRAbW92ZUhhcmQgeCx5XHJcblxyXG5cdG1vdmVIYXJkIDogKHgseSkgLT5cclxuXHRcdHNldEF0dHJzIEBjaXJjbGUxLCB7Y3g6eCwgY3k6eX1cclxuXHRcdHNldEF0dHJzIEB2bGluZSwge3gxOngtQHIsIHkxOnksIHgyOngrQHIsIHkyOnl9XHJcblx0XHRzZXRBdHRycyBAaGxpbmUsIHt4MTp4LCB5MTp5LUByLCB4Mjp4LCB5Mjp5K0ByfVxyXG4iXX0=
//# sourceURL=c:\github\2021\013-gpsKarta2\coffee\button.coffee