// Generated by CoffeeScript 2.4.1
var Button, TargetButton;

Button = class Button {
  constructor(x1, y1, prompt, event, color = '#f000') {
    this.x = x1;
    this.y = y1;
    this.prompt = prompt;
    this.r = H * 0.09;
    this.circle0 = add('circle', svg, {
      cx: this.x,
      cy: this.y,
      r: this.r,
      fill: 'none',
      stroke: 'black',
      'stroke-width': 1
    });
    if (this.prompt !== "") {
      this.text = add('text', svg, {
        x: this.x,
        y: this.y + 10,
        stroke: 'none',
        fill: 'black',
        'stroke-width': 1,
        'text-anchor': 'middle'
      });
      this.text.textContent = this.prompt;
      this.text.style.fontSize = '50px';
      this.text.style.userSelect = 'none';
    }
    this.circle1 = add('circle', svg, {
      cx: this.x,
      cy: this.y,
      r: this.r,
      fill: color,
      stroke: 'black',
      'stroke-width': 1,
      ontouchstart: event,
      onclick: event
    });
  }

  setColor(color) {
    return setAttrs(this.circle1, {
      fill: color
    });
  }

  setTextFill(color) {
    return setAttrs(this.text, {
      fill: color
    });
  }

  enable() {
    setAttrs(this.circle0, {
      cx: this.x
    });
    setAttrs(this.circle1, {
      cx: this.x
    });
    if (this.prompt !== '') {
      return setAttrs(this.text, {
        x: this.x
      });
    }
  }

  disable() {
    setAttrs(this.circle0, {
      cx: INVISIBLE
    });
    setAttrs(this.circle1, {
      cx: INVISIBLE
    });
    if (this.prompt !== '') {
      return setAttrs(this.text, {
        x: INVISIBLE
      });
    }
  }

};

TargetButton = class TargetButton extends Button {
  constructor(x, y, event, color) {
    super(x, y, '', event, color);
    this.vline = add('line', svg, {
      x1: x - this.r,
      y1: y,
      x2: x + this.r,
      y2: y,
      stroke: 'black',
      'stroke-width': 1
    });
    this.hline = add('line', svg, {
      x1: x,
      y1: y - this.r,
      x2: x,
      y2: y + this.r,
      stroke: 'black',
      'stroke-width': 1
    });
  }

  move() {
    var antal, dx, dy, x, y;
    if (target.length === 0) {
      return;
    }
    dx = target[0] - center[0];
    dy = target[1] - center[1];
    antal = SIZE / TILE;
    x = W / 2 + dx / antal;
    y = H / 2 - dy / antal;
    return this.moveHard(x, y);
  }

  moveHard(x, y) {
    setAttrs(this.circle1, {
      cx: x,
      cy: y
    });
    setAttrs(this.vline, {
      x1: x - this.r,
      y1: y,
      x2: x + this.r,
      y2: y
    });
    return setAttrs(this.hline, {
      x1: x,
      y1: y - this.r,
      x2: x,
      y2: y + this.r
    });
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXGJ1dHRvbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQSxFQUFBOztBQUFNLFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxHQUFBLElBQUEsUUFBQSxFQUFlLEtBQWYsRUFBcUIsUUFBTSxPQUEzQixDQUFBO0lBQUMsSUFBQyxDQUFBO0lBQUUsSUFBQyxDQUFBO0lBQUUsSUFBQyxDQUFBO0lBQ3JCLElBQUMsQ0FBQSxDQUFELEdBQUssQ0FBQSxHQUFJO0lBQ1QsSUFBQyxDQUFBLE9BQUQsR0FBVyxHQUFBLENBQUksUUFBSixFQUFhLEdBQWIsRUFBa0I7TUFBQyxFQUFBLEVBQUcsSUFBQyxDQUFBLENBQUw7TUFBUSxFQUFBLEVBQUcsSUFBQyxDQUFBLENBQVo7TUFBZSxDQUFBLEVBQUUsSUFBQyxDQUFBLENBQWxCO01BQXFCLElBQUEsRUFBSyxNQUExQjtNQUFrQyxNQUFBLEVBQU8sT0FBekM7TUFBa0QsY0FBQSxFQUFlO0lBQWpFLENBQWxCO0lBQ1gsSUFBRyxJQUFDLENBQUEsTUFBRCxLQUFXLEVBQWQ7TUFDQyxJQUFDLENBQUEsSUFBRCxHQUFRLEdBQUEsQ0FBSSxNQUFKLEVBQVcsR0FBWCxFQUFnQjtRQUFDLENBQUEsRUFBRSxJQUFDLENBQUEsQ0FBSjtRQUFPLENBQUEsRUFBRSxJQUFDLENBQUEsQ0FBRCxHQUFHLEVBQVo7UUFBZ0IsTUFBQSxFQUFPLE1BQXZCO1FBQStCLElBQUEsRUFBSyxPQUFwQztRQUE2QyxjQUFBLEVBQWUsQ0FBNUQ7UUFBK0QsYUFBQSxFQUFjO01BQTdFLENBQWhCO01BQ1IsSUFBQyxDQUFBLElBQUksQ0FBQyxXQUFOLEdBQW9CLElBQUMsQ0FBQTtNQUNyQixJQUFDLENBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFaLEdBQXVCO01BQ3ZCLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVosR0FB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Q3hCLEVBQUEsR0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFQLEdBQVksTUFBTyxDQUFBLENBQUE7SUFDeEIsS0FBQSxHQUFRLElBQUEsR0FBSztJQUNiLENBQUEsR0FBSSxDQUFBLEdBQUUsQ0FBRixHQUFNLEVBQUEsR0FBSztJQUNmLENBQUEsR0FBSSxDQUFBLEdBQUUsQ0FBRixHQUFNLEVBQUEsR0FBSztXQUNmLElBQUMsQ0FBQSxRQUFELENBQVUsQ0FBVixFQUFZLENBQVo7RUFQTTs7RUFTUCxRQUFXLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtJQUNWLFFBQUEsQ0FBUyxJQUFDLENBQUEsT0FBVixFQUFtQjtNQUFDLEVBQUEsRUFBRyxDQUFKO01BQU8sRUFBQSxFQUFHO0lBQVYsQ0FBbkI7SUFDQSxRQUFBLENBQVMsSUFBQyxDQUFBLEtBQVYsRUFBaUI7TUFBQyxFQUFBLEVBQUcsQ0FBQSxHQUFFLElBQUMsQ0FBQSxDQUFQO01BQVUsRUFBQSxFQUFHLENBQWI7TUFBZ0IsRUFBQSxFQUFHLENBQUEsR0FBRSxJQUFDLENBQUEsQ0FBdEI7TUFBeUIsRUFBQSxFQUFHO0lBQTVCLENBQWpCO1dBQ0EsUUFBQSxDQUFTLElBQUMsQ0FBQSxLQUFWLEVBQWlCO01BQUMsRUFBQSxFQUFHLENBQUo7TUFBTyxFQUFBLEVBQUcsQ0FBQSxHQUFFLElBQUMsQ0FBQSxDQUFiO01BQWdCLEVBQUEsRUFBRyxDQUFuQjtNQUFzQixFQUFBLEVBQUcsQ0FBQSxHQUFFLElBQUMsQ0FBQTtJQUE1QixDQUFqQjtFQUhVOztBQWZaIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQnV0dG9uIFxyXG5cdGNvbnN0cnVjdG9yIDogKEB4LEB5LEBwcm9tcHQsZXZlbnQsY29sb3I9JyNmMDAwJykgLT5cclxuXHRcdEByID0gSCAqIDAuMDlcclxuXHRcdEBjaXJjbGUwID0gYWRkICdjaXJjbGUnLHN2Zywge2N4OkB4LCBjeTpAeSwgcjpAciwgZmlsbDonbm9uZScsIHN0cm9rZTonYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzoxfVxyXG5cdFx0aWYgQHByb21wdCAhPSBcIlwiXHJcblx0XHRcdEB0ZXh0ID0gYWRkICd0ZXh0JyxzdmcsIHt4OkB4LCB5OkB5KzEwLCBzdHJva2U6J25vbmUnLCBmaWxsOidibGFjaycsICdzdHJva2Utd2lkdGgnOjEsICd0ZXh0LWFuY2hvcic6J21pZGRsZSd9XHJcblx0XHRcdEB0ZXh0LnRleHRDb250ZW50ID0gQHByb21wdFxyXG5cdFx0XHRAdGV4dC5zdHlsZS5mb250U2l6ZSA9ICc1MHB4J1xyXG5cdFx0XHRAdGV4dC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnXHJcblx0XHRAY2lyY2xlMSA9IGFkZCAnY2lyY2xlJyxzdmcsIHtjeDpAeCwgY3k6QHksIHI6QHIsIGZpbGw6Y29sb3IsIHN0cm9rZTonYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzoxLCBvbnRvdWNoc3RhcnQ6ZXZlbnQsIG9uY2xpY2s6ZXZlbnR9XHJcblx0c2V0Q29sb3IgOiAoY29sb3IpIC0+IHNldEF0dHJzIEBjaXJjbGUxLCB7ZmlsbDpjb2xvcn1cclxuXHRzZXRUZXh0RmlsbCA6IChjb2xvcikgLT4gc2V0QXR0cnMgQHRleHQsIHtmaWxsOmNvbG9yfVxyXG5cdGVuYWJsZSA6IC0+IFxyXG5cdFx0c2V0QXR0cnMgQGNpcmNsZTAsIHtjeDpAeH1cclxuXHRcdHNldEF0dHJzIEBjaXJjbGUxLCB7Y3g6QHh9XHJcblx0XHRpZiBAcHJvbXB0IT0nJyB0aGVuIHNldEF0dHJzIEB0ZXh0LCB7eDpAeH1cclxuXHRkaXNhYmxlIDogLT4gXHJcblx0XHRzZXRBdHRycyBAY2lyY2xlMCwge2N4OklOVklTSUJMRX1cclxuXHRcdHNldEF0dHJzIEBjaXJjbGUxLCB7Y3g6SU5WSVNJQkxFfVxyXG5cdFx0aWYgQHByb21wdCE9JycgdGhlbiBzZXRBdHRycyBAdGV4dCwge3g6SU5WSVNJQkxFfVxyXG5cclxuY2xhc3MgVGFyZ2V0QnV0dG9uIGV4dGVuZHMgQnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAoeCx5LGV2ZW50LGNvbG9yKSAtPlxyXG5cdFx0c3VwZXIgeCx5LCcnLGV2ZW50LGNvbG9yXHJcblx0XHRAdmxpbmUgPSBhZGQgJ2xpbmUnLHN2Zywge3gxOngtQHIsIHkxOnksIHgyOngrQHIsIHkyOnksIHN0cm9rZTonYmxhY2snLCAnc3Ryb2tlLXdpZHRoJzoxfVxyXG5cdFx0QGhsaW5lID0gYWRkICdsaW5lJyxzdmcsIHt4MTp4LCB5MTp5LUByLCB4Mjp4LCB5Mjp5K0ByLCBzdHJva2U6J2JsYWNrJywgJ3N0cm9rZS13aWR0aCc6MX1cclxuXHJcblx0bW92ZSA6IC0+XHJcblx0XHRpZiB0YXJnZXQubGVuZ3RoID09IDAgdGhlbiByZXR1cm5cclxuXHRcdGR4ID0gdGFyZ2V0WzBdIC0gY2VudGVyWzBdXHJcblx0XHRkeSA9IHRhcmdldFsxXSAtIGNlbnRlclsxXVxyXG5cdFx0YW50YWwgPSBTSVpFL1RJTEVcclxuXHRcdHggPSBXLzIgKyBkeCAvIGFudGFsXHJcblx0XHR5ID0gSC8yIC0gZHkgLyBhbnRhbFxyXG5cdFx0QG1vdmVIYXJkIHgseVxyXG5cclxuXHRtb3ZlSGFyZCA6ICh4LHkpIC0+XHJcblx0XHRzZXRBdHRycyBAY2lyY2xlMSwge2N4OngsIGN5Onl9XHJcblx0XHRzZXRBdHRycyBAdmxpbmUsIHt4MTp4LUByLCB5MTp5LCB4Mjp4K0ByLCB5Mjp5fVxyXG5cdFx0c2V0QXR0cnMgQGhsaW5lLCB7eDE6eCwgeTE6eS1AciwgeDI6eCwgeTI6eStAcn1cclxuIl19
//# sourceURL=c:\github\2021\013-gpsKarta2\coffee\button.coffee